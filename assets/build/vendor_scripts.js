!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):n.anime=e()}(this,function(){"use strict";var n={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},e={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},r=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],t={CSS:{},springs:{}};function a(n,e,r){return Math.min(Math.max(n,e),r)}function o(n,e){return n.indexOf(e)>-1}function u(n,e){return n.apply(null,e)}var i={arr:function(n){return Array.isArray(n)},obj:function(n){return o(Object.prototype.toString.call(n),"Object")},pth:function(n){return i.obj(n)&&n.hasOwnProperty("totalLength")},svg:function(n){return n instanceof SVGElement},inp:function(n){return n instanceof HTMLInputElement},dom:function(n){return n.nodeType||i.svg(n)},str:function(n){return"string"==typeof n},fnc:function(n){return"function"==typeof n},und:function(n){return void 0===n},hex:function(n){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(n)},rgb:function(n){return/^rgb/.test(n)},hsl:function(n){return/^hsl/.test(n)},col:function(n){return i.hex(n)||i.rgb(n)||i.hsl(n)},key:function(r){return!n.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&"targets"!==r&&"keyframes"!==r}};function c(n){var e=/\(([^)]+)\)/.exec(n);return e?e[1].split(",").map(function(n){return parseFloat(n)}):[]}function s(n,e){var r=c(n),o=a(i.und(r[0])?1:r[0],.1,100),u=a(i.und(r[1])?100:r[1],.1,100),s=a(i.und(r[2])?10:r[2],.1,100),f=a(i.und(r[3])?0:r[3],.1,100),l=Math.sqrt(u/o),d=s/(2*Math.sqrt(u*o)),p=d<1?l*Math.sqrt(1-d*d):0,h=1,v=d<1?(d*l-f)/p:-f+l;function g(n){var r=e?e*n/1e3:n;return r=d<1?Math.exp(-r*d*l)*(h*Math.cos(p*r)+v*Math.sin(p*r)):(h+v*r)*Math.exp(-r*l),0===n||1===n?n:1-r}return e?g:function(){var e=t.springs[n];if(e)return e;for(var r=0,a=0;;)if(1===g(r+=1/6)){if(++a>=16)break}else a=0;var o=r*(1/6)*1e3;return t.springs[n]=o,o}}function f(n){return void 0===n&&(n=10),function(e){return Math.ceil(a(e,1e-6,1)*n)*(1/n)}}var l,d,p=function(){var n=11,e=1/(n-1);function r(n,e){return 1-3*e+3*n}function t(n,e){return 3*e-6*n}function a(n){return 3*n}function o(n,e,o){return((r(e,o)*n+t(e,o))*n+a(e))*n}function u(n,e,o){return 3*r(e,o)*n*n+2*t(e,o)*n+a(e)}return function(r,t,a,i){if(0<=r&&r<=1&&0<=a&&a<=1){var c=new Float32Array(n);if(r!==t||a!==i)for(var s=0;s<n;++s)c[s]=o(s*e,r,a);return function(n){return r===t&&a===i?n:0===n||1===n?n:o(f(n),t,i)}}function f(t){for(var i=0,s=1,f=n-1;s!==f&&c[s]<=t;++s)i+=e;var l=i+(t-c[--s])/(c[s+1]-c[s])*e,d=u(l,r,a);return d>=.001?function(n,e,r,t){for(var a=0;a<4;++a){var i=u(e,r,t);if(0===i)return e;e-=(o(e,r,t)-n)/i}return e}(t,l,r,a):0===d?l:function(n,e,r,t,a){for(var u,i,c=0;(u=o(i=e+(r-e)/2,t,a)-n)>0?r=i:e=i,Math.abs(u)>1e-7&&++c<10;);return i}(t,i,i+e,r,a)}}}(),h=(l={linear:function(){return function(n){return n}}},d={Sine:function(){return function(n){return 1-Math.cos(n*Math.PI/2)}},Circ:function(){return function(n){return 1-Math.sqrt(1-n*n)}},Back:function(){return function(n){return n*n*(3*n-2)}},Bounce:function(){return function(n){for(var e,r=4;n<((e=Math.pow(2,--r))-1)/11;);return 1/Math.pow(4,3-r)-7.5625*Math.pow((3*e-2)/22-n,2)}},Elastic:function(n,e){void 0===n&&(n=1),void 0===e&&(e=.5);var r=a(n,1,10),t=a(e,.1,2);return function(n){return 0===n||1===n?n:-r*Math.pow(2,10*(n-1))*Math.sin((n-1-t/(2*Math.PI)*Math.asin(1/r))*(2*Math.PI)/t)}}},["Quad","Cubic","Quart","Quint","Expo"].forEach(function(n,e){d[n]=function(){return function(n){return Math.pow(n,e+2)}}}),Object.keys(d).forEach(function(n){var e=d[n];l["easeIn"+n]=e,l["easeOut"+n]=function(n,r){return function(t){return 1-e(n,r)(1-t)}},l["easeInOut"+n]=function(n,r){return function(t){return t<.5?e(n,r)(2*t)/2:1-e(n,r)(-2*t+2)/2}}}),l);function v(n,e){if(i.fnc(n))return n;var r=n.split("(")[0],t=h[r],a=c(n);switch(r){case"spring":return s(n,e);case"cubicBezier":return u(p,a);case"steps":return u(f,a);default:return u(t,a)}}function g(n){try{return document.querySelectorAll(n)}catch(n){return}}function m(n,e){for(var r=n.length,t=arguments.length>=2?arguments[1]:void 0,a=[],o=0;o<r;o++)if(o in n){var u=n[o];e.call(t,u,o,n)&&a.push(u)}return a}function y(n){return n.reduce(function(n,e){return n.concat(i.arr(e)?y(e):e)},[])}function b(n){return i.arr(n)?n:(i.str(n)&&(n=g(n)||n),n instanceof NodeList||n instanceof HTMLCollection?[].slice.call(n):[n])}function x(n,e){return n.some(function(n){return n===e})}function M(n){var e={};for(var r in n)e[r]=n[r];return e}function w(n,e){var r=M(n);for(var t in n)r[t]=e.hasOwnProperty(t)?e[t]:n[t];return r}function k(n,e){var r=M(n);for(var t in e)r[t]=i.und(n[t])?e[t]:n[t];return r}function O(n){return i.rgb(n)?(r=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e=n))?"rgba("+r[1]+",1)":e:i.hex(n)?(t=n.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(n,e,r,t){return e+e+r+r+t+t}),a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),"rgba("+parseInt(a[1],16)+","+parseInt(a[2],16)+","+parseInt(a[3],16)+",1)"):i.hsl(n)?function(n){var e,r,t,a=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(n)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(n),o=parseInt(a[1],10)/360,u=parseInt(a[2],10)/100,i=parseInt(a[3],10)/100,c=a[4]||1;function s(n,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?n+6*(e-n)*r:r<.5?e:r<2/3?n+(e-n)*(2/3-r)*6:n}if(0==u)e=r=t=i;else{var f=i<.5?i*(1+u):i+u-i*u,l=2*i-f;e=s(l,f,o+1/3),r=s(l,f,o),t=s(l,f,o-1/3)}return"rgba("+255*e+","+255*r+","+255*t+","+c+")"}(n):void 0;var e,r,t,a}function C(n){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(n);if(e)return e[1]}function B(n,e){return i.fnc(n)?n(e.target,e.id,e.total):n}function P(n,e){return n.getAttribute(e)}function I(n,e,r){if(x([r,"deg","rad","turn"],C(e)))return e;var a=t.CSS[e+r];if(!i.und(a))return a;var o=document.createElement(n.tagName),u=n.parentNode&&n.parentNode!==document?n.parentNode:document.body;u.appendChild(o),o.style.position="absolute",o.style.width=100+r;var c=100/o.offsetWidth;u.removeChild(o);var s=c*parseFloat(e);return t.CSS[e+r]=s,s}function T(n,e,r){if(e in n.style){var t=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),a=n.style[e]||getComputedStyle(n).getPropertyValue(t)||"0";return r?I(n,a,r):a}}function D(n,e){return i.dom(n)&&!i.inp(n)&&(P(n,e)||i.svg(n)&&n[e])?"attribute":i.dom(n)&&x(r,e)?"transform":i.dom(n)&&"transform"!==e&&T(n,e)?"css":null!=n[e]?"object":void 0}function E(n){if(i.dom(n)){for(var e,r=n.style.transform||"",t=/(\w+)\(([^)]*)\)/g,a=new Map;e=t.exec(r);)a.set(e[1],e[2]);return a}}function F(n,e,r,t){var a,u=o(e,"scale")?1:0+(o(a=e,"translate")||"perspective"===a?"px":o(a,"rotate")||o(a,"skew")?"deg":void 0),i=E(n).get(e)||u;return r&&(r.transforms.list.set(e,i),r.transforms.last=e),t?I(n,i,t):i}function N(n,e,r,t){switch(D(n,e)){case"transform":return F(n,e,t,r);case"css":return T(n,e,r);case"attribute":return P(n,e);default:return n[e]||0}}function A(n,e){var r=/^(\*=|\+=|-=)/.exec(n);if(!r)return n;var t=C(n)||0,a=parseFloat(e),o=parseFloat(n.replace(r[0],""));switch(r[0][0]){case"+":return a+o+t;case"-":return a-o+t;case"*":return a*o+t}}function L(n,e){if(i.col(n))return O(n);if(/\s/g.test(n))return n;var r=C(n),t=r?n.substr(0,n.length-r.length):n;return e?t+e:t}function j(n,e){return Math.sqrt(Math.pow(e.x-n.x,2)+Math.pow(e.y-n.y,2))}function S(n){for(var e,r=n.points,t=0,a=0;a<r.numberOfItems;a++){var o=r.getItem(a);a>0&&(t+=j(e,o)),e=o}return t}function q(n){if(n.getTotalLength)return n.getTotalLength();switch(n.tagName.toLowerCase()){case"circle":return o=n,2*Math.PI*P(o,"r");case"rect":return 2*P(a=n,"width")+2*P(a,"height");case"line":return j({x:P(t=n,"x1"),y:P(t,"y1")},{x:P(t,"x2"),y:P(t,"y2")});case"polyline":return S(n);case"polygon":return r=(e=n).points,S(e)+j(r.getItem(r.numberOfItems-1),r.getItem(0))}var e,r,t,a,o}function $(n,e){var r=e||{},t=r.el||function(n){for(var e=n.parentNode;i.svg(e)&&i.svg(e.parentNode);)e=e.parentNode;return e}(n),a=t.getBoundingClientRect(),o=P(t,"viewBox"),u=a.width,c=a.height,s=r.viewBox||(o?o.split(" "):[0,0,u,c]);return{el:t,viewBox:s,x:s[0]/1,y:s[1]/1,w:u/s[2],h:c/s[3]}}function X(n,e){function r(r){void 0===r&&(r=0);var t=e+r>=1?e+r:0;return n.el.getPointAtLength(t)}var t=$(n.el,n.svg),a=r(),o=r(-1),u=r(1);switch(n.property){case"x":return(a.x-t.x)*t.w;case"y":return(a.y-t.y)*t.h;case"angle":return 180*Math.atan2(u.y-o.y,u.x-o.x)/Math.PI}}function Y(n,e){var r=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,t=L(i.pth(n)?n.totalLength:n,e)+"";return{original:t,numbers:t.match(r)?t.match(r).map(Number):[0],strings:i.str(n)||e?t.split(r):[]}}function Z(n){return m(n?y(i.arr(n)?n.map(b):b(n)):[],function(n,e,r){return r.indexOf(n)===e})}function Q(n){var e=Z(n);return e.map(function(n,r){return{target:n,id:r,total:e.length,transforms:{list:E(n)}}})}function V(n,e){var r=M(e);if(/^spring/.test(r.easing)&&(r.duration=s(r.easing)),i.arr(n)){var t=n.length;2===t&&!i.obj(n[0])?n={value:n}:i.fnc(e.duration)||(r.duration=e.duration/t)}var a=i.arr(n)?n:[n];return a.map(function(n,r){var t=i.obj(n)&&!i.pth(n)?n:{value:n};return i.und(t.delay)&&(t.delay=r?0:e.delay),i.und(t.endDelay)&&(t.endDelay=r===a.length-1?e.endDelay:0),t}).map(function(n){return k(n,r)})}function z(n,e){var r=[],t=e.keyframes;for(var a in t&&(e=k(function(n){for(var e=m(y(n.map(function(n){return Object.keys(n)})),function(n){return i.key(n)}).reduce(function(n,e){return n.indexOf(e)<0&&n.push(e),n},[]),r={},t=function(t){var a=e[t];r[a]=n.map(function(n){var e={};for(var r in n)i.key(r)?r==a&&(e.value=n[r]):e[r]=n[r];return e})},a=0;a<e.length;a++)t(a);return r}(t),e)),e)i.key(a)&&r.push({name:a,tweens:V(e[a],n)});return r}function H(n,e){var r;return n.tweens.map(function(t){var a=function(n,e){var r={};for(var t in n){var a=B(n[t],e);i.arr(a)&&1===(a=a.map(function(n){return B(n,e)})).length&&(a=a[0]),r[t]=a}return r.duration=parseFloat(r.duration),r.delay=parseFloat(r.delay),r}(t,e),o=a.value,u=i.arr(o)?o[1]:o,c=C(u),s=N(e.target,n.name,c,e),f=r?r.to.original:s,l=i.arr(o)?o[0]:f,d=C(l)||C(s),p=c||d;return i.und(u)&&(u=f),a.from=Y(l,p),a.to=Y(A(u,l),p),a.start=r?r.end:0,a.end=a.start+a.delay+a.duration+a.endDelay,a.easing=v(a.easing,a.duration),a.isPath=i.pth(o),a.isColor=i.col(a.from.original),a.isColor&&(a.round=1),r=a,a})}var G={css:function(n,e,r){return n.style[e]=r},attribute:function(n,e,r){return n.setAttribute(e,r)},object:function(n,e,r){return n[e]=r},transform:function(n,e,r,t,a){if(t.list.set(e,r),e===t.last||a){var o="";t.list.forEach(function(n,e){o+=e+"("+n+") "}),n.style.transform=o}}};function R(n,e){Q(n).forEach(function(n){for(var r in e){var t=B(e[r],n),a=n.target,o=C(t),u=N(a,r,o,n),i=A(L(t,o||C(u)),u),c=D(a,r);G[c](a,r,i,n.transforms,!0)}})}function W(n,e){return m(y(n.map(function(n){return e.map(function(e){return function(n,e){var r=D(n.target,e.name);if(r){var t=H(e,n),a=t[t.length-1];return{type:r,property:e.name,animatable:n,tweens:t,duration:a.end,delay:t[0].delay,endDelay:a.endDelay}}}(n,e)})})),function(n){return!i.und(n)})}function J(n,e){var r=n.length,t=function(n){return n.timelineOffset?n.timelineOffset:0},a={};return a.duration=r?Math.max.apply(Math,n.map(function(n){return t(n)+n.duration})):e.duration,a.delay=r?Math.min.apply(Math,n.map(function(n){return t(n)+n.delay})):e.delay,a.endDelay=r?a.duration-Math.max.apply(Math,n.map(function(n){return t(n)+n.duration-n.endDelay})):e.endDelay,a}var K=0;var U,_=[],nn=[],en=function(){function n(){U=requestAnimationFrame(e)}function e(e){var r=_.length;if(r){for(var t=0;t<r;){var a=_[t];if(a.paused){var o=_.indexOf(a);o>-1&&(_.splice(o,1),r=_.length)}else a.tick(e);t++}n()}else U=cancelAnimationFrame(U)}return n}();function rn(r){void 0===r&&(r={});var t,o=0,u=0,i=0,c=0,s=null;function f(n){var e=window.Promise&&new Promise(function(n){return s=n});return n.finished=e,e}var l,d,p,h,v,g,y,b,x=(d=w(n,l=r),p=w(e,l),h=z(p,l),v=Q(l.targets),g=W(v,h),y=J(g,p),b=K,K++,k(d,{id:b,children:[],animatables:v,animations:g,duration:y.duration,delay:y.delay,endDelay:y.endDelay}));f(x);function M(){var n=x.direction;"alternate"!==n&&(x.direction="normal"!==n?"normal":"reverse"),x.reversed=!x.reversed,t.forEach(function(n){return n.reversed=x.reversed})}function O(n){return x.reversed?x.duration-n:n}function C(){o=0,u=O(x.currentTime)*(1/rn.speed)}function B(n,e){e&&e.seek(n-e.timelineOffset)}function P(n){for(var e=0,r=x.animations,t=r.length;e<t;){var o=r[e],u=o.animatable,i=o.tweens,c=i.length-1,s=i[c];c&&(s=m(i,function(e){return n<e.end})[0]||s);for(var f=a(n-s.start-s.delay,0,s.duration)/s.duration,l=isNaN(f)?1:s.easing(f),d=s.to.strings,p=s.round,h=[],v=s.to.numbers.length,g=void 0,y=0;y<v;y++){var b=void 0,M=s.to.numbers[y],w=s.from.numbers[y]||0;b=s.isPath?X(s.value,l*M):w+l*(M-w),p&&(s.isColor&&y>2||(b=Math.round(b*p)/p)),h.push(b)}var k=d.length;if(k){g=d[0];for(var O=0;O<k;O++){d[O];var C=d[O+1],B=h[O];isNaN(B)||(g+=C?B+C:B+" ")}}else g=h[0];G[o.type](u.target,o.property,g,u.transforms),o.currentValue=g,e++}}function I(n){x[n]&&!x.passThrough&&x[n](x)}function T(n){var e=x.duration,r=x.delay,l=e-x.endDelay,d=O(n);x.progress=a(d/e*100,0,100),x.reversePlayback=d<x.currentTime,t&&function(n){if(x.reversePlayback)for(var e=c;e--;)B(n,t[e]);else for(var r=0;r<c;r++)B(n,t[r])}(d),!x.began&&x.currentTime>0&&(x.began=!0,I("begin")),!x.loopBegan&&x.currentTime>0&&(x.loopBegan=!0,I("loopBegin")),d<=r&&0!==x.currentTime&&P(0),(d>=l&&x.currentTime!==e||!e)&&P(e),d>r&&d<l?(x.changeBegan||(x.changeBegan=!0,x.changeCompleted=!1,I("changeBegin")),I("change"),P(d)):x.changeBegan&&(x.changeCompleted=!0,x.changeBegan=!1,I("changeComplete")),x.currentTime=a(d,0,e),x.began&&I("update"),n>=e&&(u=0,x.remaining&&!0!==x.remaining&&x.remaining--,x.remaining?(o=i,I("loopComplete"),x.loopBegan=!1,"alternate"===x.direction&&M()):(x.paused=!0,x.completed||(x.completed=!0,I("loopComplete"),I("complete"),!x.passThrough&&"Promise"in window&&(s(),f(x)))))}return x.reset=function(){var n=x.direction;x.passThrough=!1,x.currentTime=0,x.progress=0,x.paused=!0,x.began=!1,x.loopBegan=!1,x.changeBegan=!1,x.completed=!1,x.changeCompleted=!1,x.reversePlayback=!1,x.reversed="reverse"===n,x.remaining=x.loop,t=x.children;for(var e=c=t.length;e--;)x.children[e].reset();(x.reversed&&!0!==x.loop||"alternate"===n&&1===x.loop)&&x.remaining++,P(x.reversed?x.duration:0)},x.set=function(n,e){return R(n,e),x},x.tick=function(n){i=n,o||(o=i),T((i+(u-o))*rn.speed)},x.seek=function(n){T(O(n))},x.pause=function(){x.paused=!0,C()},x.play=function(){x.paused&&(x.completed&&x.reset(),x.paused=!1,_.push(x),C(),U||en())},x.reverse=function(){M(),x.completed=!x.reversed,C()},x.restart=function(){x.reset(),x.play()},x.reset(),x.autoplay&&x.play(),x}function tn(n,e){for(var r=e.length;r--;)x(n,e[r].animatable.target)&&e.splice(r,1)}return"undefined"!=typeof document&&document.addEventListener("visibilitychange",function(){document.hidden?(_.forEach(function(n){return n.pause()}),nn=_.slice(0),rn.running=_=[]):nn.forEach(function(n){return n.play()})}),rn.version="3.2.0",rn.speed=1,rn.running=_,rn.remove=function(n){for(var e=Z(n),r=_.length;r--;){var t=_[r],a=t.animations,o=t.children;tn(e,a);for(var u=o.length;u--;){var i=o[u],c=i.animations;tn(e,c),c.length||i.children.length||o.splice(u,1)}a.length||o.length||t.pause()}},rn.get=N,rn.set=R,rn.convertPx=I,rn.path=function(n,e){var r=i.str(n)?g(n)[0]:n,t=e||100;return function(n){return{property:n,el:r,svg:$(r),totalLength:q(r)*(t/100)}}},rn.setDashoffset=function(n){var e=q(n);return n.setAttribute("stroke-dasharray",e),e},rn.stagger=function(n,e){void 0===e&&(e={});var r=e.direction||"normal",t=e.easing?v(e.easing):null,a=e.grid,o=e.axis,u=e.from||0,c="first"===u,s="center"===u,f="last"===u,l=i.arr(n),d=l?parseFloat(n[0]):parseFloat(n),p=l?parseFloat(n[1]):0,h=C(l?n[1]:n)||0,g=e.start||0+(l?d:0),m=[],y=0;return function(n,e,i){if(c&&(u=0),s&&(u=(i-1)/2),f&&(u=i-1),!m.length){for(var v=0;v<i;v++){if(a){var b=s?(a[0]-1)/2:u%a[0],x=s?(a[1]-1)/2:Math.floor(u/a[0]),M=b-v%a[0],w=x-Math.floor(v/a[0]),k=Math.sqrt(M*M+w*w);"x"===o&&(k=-M),"y"===o&&(k=-w),m.push(k)}else m.push(Math.abs(u-v));y=Math.max.apply(Math,m)}t&&(m=m.map(function(n){return t(n/y)*y})),"reverse"===r&&(m=m.map(function(n){return o?n<0?-1*n:-n:Math.abs(y-n)}))}return g+(l?(p-d)/y:d)*(Math.round(100*m[e])/100)+h}},rn.timeline=function(n){void 0===n&&(n={});var r=rn(n);return r.duration=0,r.add=function(t,a){var o=_.indexOf(r),u=r.children;function c(n){n.passThrough=!0}o>-1&&_.splice(o,1);for(var s=0;s<u.length;s++)c(u[s]);var f=k(t,w(e,n));f.targets=f.targets||n.targets;var l=r.duration;f.autoplay=!1,f.direction=r.direction,f.timelineOffset=i.und(a)?l:A(a,l),c(r),r.seek(f.timelineOffset);var d=rn(f);c(d),u.push(d);var p=J(u,n);return r.delay=p.delay,r.endDelay=p.endDelay,r.duration=p.duration,r.seek(0),r.reset(),r.autoplay&&r.play(),r},r},rn.easing=v,rn.penner=h,rn.random=function(n,e){return Math.floor(Math.random()*(e-n+1))+n},rn});
var Froogaloop=function(){function t(n){return new t.fn.init(n)}var n={},e=!1,r=(Array.prototype.slice,"");function i(t,n,e){if(!e.contentWindow.postMessage)return!1;var r=e.getAttribute("src").split("?")[0],i=JSON.stringify({method:t,value:n});"//"===r.substr(0,2)&&(r=window.location.protocol+r),e.contentWindow.postMessage(i,r)}function o(t){var i,o;try{o=(i=JSON.parse(t.data)).event||i.method}catch(t){}if("ready"!=o||e||(e=!0),t.origin!=r)return!1;if(!i)return!1;var l=i.value,u=i.data,a=""===a?null:i.player_id,s=function(t,e){return e?n[e][t]:n[t]}(o,a),d=[];return!!s&&(void 0!==l&&d.push(l),u&&d.push(u),a&&d.push(a),d.length>0?s.apply(null,d):s.call())}function l(t,e,r){r?(n[r]||(n[r]={}),n[r][t]=e):n[t]=e}function u(t){return!!(t&&t.constructor&&t.call&&t.apply)}return t.fn=t.prototype={element:null,init:function(t){return"string"==typeof t&&(t=document.getElementById(t)),this.element=t,r=function(t){"//"===t.substr(0,2)&&(t=window.location.protocol+t);for(var n=t.split("/"),e="",r=0,i=n.length;r<i&&r<3;r++)e+=n[r],r<2&&(e+="/");return e}(this.element.getAttribute("src")),this},api:function(t,n){if(!this.element||!t)return!1;var e=this.element,r=""!==e.id?e.id:null,o=u(n)?null:n,a=u(n)?n:null;return a&&l(t,a,r),i(t,o,e),this},addEvent:function(t,n){if(!this.element)return!1;var r=this.element,o=""!==r.id?r.id:null;return l(t,n,o),"ready"!=t?i("addEventListener",t,r):"ready"==t&&e&&n.call(null,o),this},removeEvent:function(t){if(!this.element)return!1;var e=this.element,r=function(t,e){if(e&&n[e]){if(!n[e][t])return!1;n[e][t]=null}else{if(!n[t])return!1;n[t]=null}return!0}(t,""!==e.id?e.id:null);"ready"!=t&&r&&i("removeEventListener",t,e)}},t.fn.init.prototype=t.fn,window.addEventListener?window.addEventListener("message",o,!1):window.attachEvent("onmessage",o),window.Froogaloop=window.$f=t}();
/*!
Waypoints - 4.0.1
Copyright © 2011-2016 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blob/master/licenses.txt
*/
!function(){"use strict";function t(o){if(!o)throw new Error("No options passed to Waypoint constructor");if(!o.element)throw new Error("No element option passed to Waypoint constructor");if(!o.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+e,this.options=t.Adapter.extend({},t.defaults,o),this.element=this.options.element,this.adapter=new t.Adapter(this.element),this.callback=o.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=t.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=t.Context.findOrCreateByElement(this.options.context),t.offsetAliases[this.options.offset]&&(this.options.offset=t.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),i[this.key]=this,e+=1}var e=0,i={};t.prototype.queueTrigger=function(t){this.group.queueTrigger(this,t)},t.prototype.trigger=function(t){this.enabled&&this.callback&&this.callback.apply(this,t)},t.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete i[this.key]},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},t.prototype.next=function(){return this.group.next(this)},t.prototype.previous=function(){return this.group.previous(this)},t.invokeAll=function(t){var e=[];for(var o in i)e.push(i[o]);for(var n=0,r=e.length;r>n;n++)e[n][t]()},t.destroyAll=function(){t.invokeAll("destroy")},t.disableAll=function(){t.invokeAll("disable")},t.enableAll=function(){t.Context.refreshAll();for(var e in i)i[e].enabled=!0;return this},t.refreshAll=function(){t.Context.refreshAll()},t.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},t.viewportWidth=function(){return document.documentElement.clientWidth},t.adapters=[],t.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},t.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=t}(),function(){"use strict";function t(t){window.setTimeout(t,1e3/60)}function e(t){this.element=t,this.Adapter=n.Adapter,this.adapter=new this.Adapter(t),this.key="waypoint-context-"+i,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},t.waypointContextKey=this.key,o[t.waypointContextKey]=this,i+=1,n.windowContext||(n.windowContext=!0,n.windowContext=new e(window)),this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var i=0,o={},n=window.Waypoint,r=window.onload;e.prototype.add=function(t){var e=t.options.horizontal?"horizontal":"vertical";this.waypoints[e][t.key]=t,this.refresh()},e.prototype.checkEmpty=function(){var t=this.Adapter.isEmptyObject(this.waypoints.horizontal),e=this.Adapter.isEmptyObject(this.waypoints.vertical),i=this.element==this.element.window;t&&e&&!i&&(this.adapter.off(".waypoints"),delete o[this.key])},e.prototype.createThrottledResizeHandler=function(){function t(){e.handleResize(),e.didResize=!1}var e=this;this.adapter.on("resize.waypoints",function(){e.didResize||(e.didResize=!0,n.requestAnimationFrame(t))})},e.prototype.createThrottledScrollHandler=function(){function t(){e.handleScroll(),e.didScroll=!1}var e=this;this.adapter.on("scroll.waypoints",function(){(!e.didScroll||n.isTouch)&&(e.didScroll=!0,n.requestAnimationFrame(t))})},e.prototype.handleResize=function(){n.Context.refreshAll()},e.prototype.handleScroll=function(){var t={},e={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var i in e){var o=e[i],n=o.newScroll>o.oldScroll,r=n?o.forward:o.backward;for(var s in this.waypoints[i]){var a=this.waypoints[i][s];if(null!==a.triggerPoint){var l=o.oldScroll<a.triggerPoint,h=o.newScroll>=a.triggerPoint,p=l&&h,u=!l&&!h;(p||u)&&(a.queueTrigger(r),t[a.group.id]=a.group)}}}for(var c in t)t[c].flushTriggers();this.oldScroll={x:e.horizontal.newScroll,y:e.vertical.newScroll}},e.prototype.innerHeight=function(){return this.element==this.element.window?n.viewportHeight():this.adapter.innerHeight()},e.prototype.remove=function(t){delete this.waypoints[t.axis][t.key],this.checkEmpty()},e.prototype.innerWidth=function(){return this.element==this.element.window?n.viewportWidth():this.adapter.innerWidth()},e.prototype.destroy=function(){var t=[];for(var e in this.waypoints)for(var i in this.waypoints[e])t.push(this.waypoints[e][i]);for(var o=0,n=t.length;n>o;o++)t[o].destroy()},e.prototype.refresh=function(){var t,e=this.element==this.element.window,i=e?void 0:this.adapter.offset(),o={};this.handleScroll(),t={horizontal:{contextOffset:e?0:i.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:i.top,contextScroll:e?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var r in t){var s=t[r];for(var a in this.waypoints[r]){var l,h,p,u,c,d=this.waypoints[r][a],f=d.options.offset,w=d.triggerPoint,y=0,g=null==w;d.element!==d.element.window&&(y=d.adapter.offset()[s.offsetProp]),"function"==typeof f?f=f.apply(d):"string"==typeof f&&(f=parseFloat(f),d.options.offset.indexOf("%")>-1&&(f=Math.ceil(s.contextDimension*f/100))),l=s.contextScroll-s.contextOffset,d.triggerPoint=Math.floor(y+l-f),h=w<s.oldScroll,p=d.triggerPoint>=s.oldScroll,u=h&&p,c=!h&&!p,!g&&u?(d.queueTrigger(s.backward),o[d.group.id]=d.group):!g&&c?(d.queueTrigger(s.forward),o[d.group.id]=d.group):g&&s.oldScroll>=d.triggerPoint&&(d.queueTrigger(s.forward),o[d.group.id]=d.group)}}return n.requestAnimationFrame(function(){for(var t in o)o[t].flushTriggers()}),this},e.findOrCreateByElement=function(t){return e.findByElement(t)||new e(t)},e.refreshAll=function(){for(var t in o)o[t].refresh()},e.findByElement=function(t){return o[t.waypointContextKey]},window.onload=function(){r&&r(),e.refreshAll()},n.requestAnimationFrame=function(e){var i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||t;i.call(window,e)},n.Context=e}(),function(){"use strict";function t(t,e){return t.triggerPoint-e.triggerPoint}function e(t,e){return e.triggerPoint-t.triggerPoint}function i(t){this.name=t.name,this.axis=t.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),o[this.axis][this.name]=this}var o={vertical:{},horizontal:{}},n=window.Waypoint;i.prototype.add=function(t){this.waypoints.push(t)},i.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},i.prototype.flushTriggers=function(){for(var i in this.triggerQueues){var o=this.triggerQueues[i],n="up"===i||"left"===i;o.sort(n?e:t);for(var r=0,s=o.length;s>r;r+=1){var a=o[r];(a.options.continuous||r===o.length-1)&&a.trigger([i])}}this.clearTriggerQueues()},i.prototype.next=function(e){this.waypoints.sort(t);var i=n.Adapter.inArray(e,this.waypoints),o=i===this.waypoints.length-1;return o?null:this.waypoints[i+1]},i.prototype.previous=function(e){this.waypoints.sort(t);var i=n.Adapter.inArray(e,this.waypoints);return i?this.waypoints[i-1]:null},i.prototype.queueTrigger=function(t,e){this.triggerQueues[e].push(t)},i.prototype.remove=function(t){var e=n.Adapter.inArray(t,this.waypoints);e>-1&&this.waypoints.splice(e,1)},i.prototype.first=function(){return this.waypoints[0]},i.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},i.findOrCreate=function(t){return o[t.axis][t.name]||new i(t)},n.Group=i}(),function(){"use strict";function t(t){this.$element=e(t)}var e=window.jQuery,i=window.Waypoint;e.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(e,i){t.prototype[i]=function(){var t=Array.prototype.slice.call(arguments);return this.$element[i].apply(this.$element,t)}}),e.each(["extend","inArray","isEmptyObject"],function(i,o){t[o]=e[o]}),i.adapters.push({name:"jquery",Adapter:t}),i.Adapter=t}(),function(){"use strict";function t(t){return function(){var i=[],o=arguments[0];return t.isFunction(arguments[0])&&(o=t.extend({},arguments[1]),o.handler=arguments[0]),this.each(function(){var n=t.extend({},o,{element:this});"string"==typeof n.context&&(n.context=t(this).closest(n.context)[0]),i.push(new e(n))}),i}}var e=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=t(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=t(window.Zepto))}();
/**
 * StyleFix 1.0.3 & PrefixFree 1.0.7
 * @author Lea Verou
 * MIT license
 */
(function(){function m(a,b){return[].slice.call((b||document).querySelectorAll(a))}if(window.addEventListener){var e=window.StyleFix={link:function(a){var b=a.href||a.getAttribute("data-href");try{if(!b||"stylesheet"!==a.rel||a.hasAttribute("data-noprefix"))return}catch(p){return}var d=b.replace(/[^\/]+$/,""),f=(/^[a-z]{3,10}:/.exec(d)||[""])[0],h=(/^[a-z]{3,10}:\/\/[^\/]+/.exec(d)||[""])[0],k=/^([^?]*)\??/.exec(b)[1],g=a.parentNode,c=new XMLHttpRequest,l;c.onreadystatechange=function(){4===c.readyState&&
    l()};l=function(){var b=c.responseText;if(b&&a.parentNode&&(!c.status||400>c.status||600<c.status)){if((b=e.fix(b,!0,a))&&d)var b=b.replace(/url\(\s*?((?:"|')?)(.+?)\1\s*?\)/gi,function(b,a,c){return/^([a-z]{3,10}:|#)/i.test(c)?b:/^\/\//.test(c)?'url("'+f+c+'")':/^\//.test(c)?'url("'+h+c+'")':/^\?/.test(c)?'url("'+k+c+'")':'url("'+d+c+'")'}),n=d.replace(/([\\\^\$*+[\]?{}.=!:(|)])/g,"\\$1"),b=b.replace(RegExp("\\b(behavior:\\s*?url\\('?\"?)"+n,"gi"),"$1");n=document.createElement("style");n.textContent=
    "/*# sourceURL="+a.getAttribute("href")+" */\n/*@ sourceURL="+a.getAttribute("href")+" */\n"+b;n.media=a.media;n.disabled=a.disabled;n.setAttribute("data-href",a.getAttribute("href"));a.id&&(n.id=a.id);g.insertBefore(n,a);g.removeChild(a);n.media=a.media}};try{c.open("GET",b),c.send(null)}catch(p){"undefined"!=typeof XDomainRequest&&(c=new XDomainRequest,c.onerror=c.onprogress=function(){},c.onload=l,c.open("GET",b),c.send(null))}a.setAttribute("data-inprogress","")},styleElement:function(a){if(!a.hasAttribute("data-noprefix")){var b=
    a.disabled;a.textContent=e.fix(a.textContent,!0,a);a.disabled=b}},styleAttribute:function(a){var b=a.getAttribute("style"),b=e.fix(b,!1,a);a.setAttribute("style",b)},process:function(){m('link[rel="stylesheet"]:not([data-inprogress])').forEach(StyleFix.link);m("style").forEach(StyleFix.styleElement);m("[style]").forEach(StyleFix.styleAttribute)},register:function(a,b){(e.fixers=e.fixers||[]).splice(void 0===b?e.fixers.length:b,0,a)},fix:function(a,b,d){if(e.fixers)for(var f=0;f<e.fixers.length;f++)a=
    e.fixers[f](a,b,d)||a;return a},camelCase:function(a){return a.replace(/-([a-z])/g,function(b,a){return a.toUpperCase()}).replace("-","")},deCamelCase:function(a){return a.replace(/[A-Z]/g,function(b){return"-"+b.toLowerCase()})}};(function(){setTimeout(function(){m('link[rel="stylesheet"]').forEach(StyleFix.link)},10);document.addEventListener("DOMContentLoaded",StyleFix.process,!1)})()}})();
    (function(m){function e(b,d,f,h,k){b=a[b];b.length&&(b=RegExp(d+"("+b.join("|")+")"+f,"gi"),k=k.replace(b,h));return k}if(window.StyleFix&&window.getComputedStyle){var a=window.PrefixFree={prefixCSS:function(b,d,f){var h=a.prefix;-1<a.functions.indexOf("linear-gradient")&&(b=b.replace(/(\s|:|,)(repeating-)?linear-gradient\(\s*(-?\d*\.?\d*)deg/ig,function(b,a,d,f){return a+(d||"")+"linear-gradient("+(90-f)+"deg"}));b=e("functions","(\\s|:|,)","\\s*\\(","$1"+h+"$2(",b);b=e("keywords","(\\s|:)","(\\s|;|\\}|$)",
    "$1"+h+"$2$3",b);b=e("properties","(^|\\{|\\s|;)","\\s*:","$1"+h+"$2:",b);if(a.properties.length){var k=RegExp("\\b("+a.properties.join("|")+")(?!:)","gi");b=e("valueProperties","\\b",":(.+?);",function(a){return a.replace(k,h+"$1")},b)}d&&(b=e("selectors","","\\b",a.prefixSelector,b),b=e("atrules","@","\\b","@"+h+"$1",b));b=b.replace(RegExp("-"+h,"g"),"-");return b=b.replace(/-\*-(?=[a-z]+)/gi,a.prefix)},property:function(b){return(0<=a.properties.indexOf(b)?a.prefix:"")+b},value:function(b,d){b=
    e("functions","(^|\\s|,)","\\s*\\(","$1"+a.prefix+"$2(",b);b=e("keywords","(^|\\s)","(\\s|$)","$1"+a.prefix+"$2$3",b);0<=a.valueProperties.indexOf(d)&&(b=e("properties","(^|\\s|,)","($|\\s|,)","$1"+a.prefix+"$2$3",b));return b},prefixSelector:function(b){return a.selectorMap[b]||b},prefixProperty:function(b,d){var f=a.prefix+b;return d?StyleFix.camelCase(f):f}};(function(){var b={},d=[],f=getComputedStyle(document.documentElement,null),h=document.createElement("div").style,k=function(a){if("-"===
    a.charAt(0)){d.push(a);a=a.split("-");var c=a[1];for(b[c]=++b[c]||1;3<a.length;)a.pop(),c=a.join("-"),StyleFix.camelCase(c)in h&&-1===d.indexOf(c)&&d.push(c)}};if(f&&0<f.length)for(var g=0;g<f.length;g++)k(f[g]);else for(var c in f)k(StyleFix.deCamelCase(c));var g=0,e,p;for(p in b)f=b[p],g<f&&(e=p,g=f);a.prefix="-"+e+"-";a.Prefix=StyleFix.camelCase(a.prefix);a.properties=[];for(g=0;g<d.length;g++)c=d[g],0===c.indexOf(a.prefix)&&(e=c.slice(a.prefix.length),StyleFix.camelCase(e)in h||a.properties.push(e));
    !("Ms"!=a.Prefix||"transform"in h||"MsTransform"in h)&&"msTransform"in h&&a.properties.push("transform","transform-origin");a.properties.sort()})();(function(){function b(a,b){e[b]="";e[b]=a;return!!e[b]}var d={"linear-gradient":{property:"backgroundImage",params:"red, teal"},calc:{property:"width",params:"1px + 5%"},element:{property:"backgroundImage",params:"#foo"},"cross-fade":{property:"backgroundImage",params:"url(a.png), url(b.png), 50%"},"image-set":{property:"backgroundImage",params:"url(a.png) 1x, url(b.png) 2x"}};
    d["repeating-linear-gradient"]=d["repeating-radial-gradient"]=d["radial-gradient"]=d["linear-gradient"];var f={initial:"color",grab:"cursor",grabbing:"cursor","zoom-in":"cursor","zoom-out":"cursor",box:"display",flexbox:"display","inline-flexbox":"display",flex:"display","inline-flex":"display",grid:"display","inline-grid":"display","max-content":"width","min-content":"width","fit-content":"width","fill-available":"width","contain-floats":"width"};a.functions=[];a.keywords=[];var e=document.createElement("div").style,
    k;for(k in d){var g=d[k],c=g.property,g=k+"("+g.params+")";!b(g,c)&&b(a.prefix+g,c)&&a.functions.push(k)}for(var l in f)c=f[l],!b(l,c)&&b(a.prefix+l,c)&&a.keywords.push(l)})();(function(){function b(a){h.textContent=a+"{}";return!!h.sheet.cssRules.length}var d={":any-link":null,"::backdrop":null,":fullscreen":null,":full-screen":":fullscreen","::placeholder":null,":placeholder":"::placeholder","::input-placeholder":"::placeholder",":input-placeholder":"::placeholder",":read-only":null,":read-write":null,
    "::selection":null},e={keyframes:"name",viewport:null,document:'regexp(".")'};a.selectors=[];a.selectorMap={};a.atrules=[];var h=m.appendChild(document.createElement("style")),k;for(k in d){var g=d[k]||k,c=k.replace(/::?/,function(b){return b+a.prefix});!b(g)&&b(c)&&(a.selectors.push(g),a.selectorMap[g]=c)}for(var l in e)d=l+" "+(e[l]||""),!b("@"+d)&&b("@"+a.prefix+d)&&a.atrules.push(l);m.removeChild(h)})();a.valueProperties=["transition","transition-property","will-change"];m.className+=" "+a.prefix;
    StyleFix.register(a.prefixCSS)}})(document.documentElement);

//--------------------------------------------------------------------------------------------------------------------------
//                                              LazyLoad
//--------------------------------------------------------------------------------------------------------------------------


var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t,e){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.LazyLoad=e()}(this,function(){"use strict";function t(t,e,n){var o=e._settings;!n&&i(t)||(C(o.callback_enter,t),R.indexOf(t.tagName)>-1&&(N(t,e),I(t,o.class_loading)),E(t,e),a(t),C(o.callback_set,t))}var e={elements_selector:"img",container:document,threshold:300,thresholds:null,data_src:"src",data_srcset:"srcset",data_sizes:"sizes",data_bg:"bg",class_loading:"loading",class_loaded:"loaded",class_error:"error",load_delay:0,callback_load:null,callback_error:null,callback_set:null,callback_enter:null,callback_finish:null,to_webp:!1},n=function(t){return _extends({},e,t)},o=function(t,e){return t.getAttribute("data-"+e)},r=function(t,e,n){var o="data-"+e;null!==n?t.setAttribute(o,n):t.removeAttribute(o)},a=function(t){return r(t,"was-processed","true")},i=function(t){return"true"===o(t,"was-processed")},s=function(t,e){return r(t,"ll-timeout",e)},c=function(t){return o(t,"ll-timeout")},l=function(t){return t.filter(function(t){return!i(t)})},u=function(t,e){return t.filter(function(t){return t!==e})},d=function(t,e){var n,o=new t(e);try{n=new CustomEvent("LazyLoad::Initialized",{detail:{instance:o}})}catch(t){(n=document.createEvent("CustomEvent")).initCustomEvent("LazyLoad::Initialized",!1,!1,{instance:o})}window.dispatchEvent(n)},f=function(t,e){return e?t.replace(/\.(jpe?g|png)/gi,".webp"):t},_="undefined"!=typeof window,v=_&&!("onscroll"in window)||/(gle|ing|ro)bot|crawl|spider/i.test(navigator.userAgent),g=_&&"IntersectionObserver"in window,h=_&&"classList"in document.createElement("p"),b=_&&function(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))&&0===t.toDataURL("image/webp").indexOf("data:image/webp")}(),m=function(t,e,n,r){for(var a,i=0;a=t.children[i];i+=1)if("SOURCE"===a.tagName){var s=o(a,n);p(a,e,s,r)}},p=function(t,e,n,o){n&&t.setAttribute(e,f(n,o))},y=function(t,e){var n=b&&e.to_webp,r=o(t,e.data_src),a=o(t,e.data_bg);if(r){var i=f(r,n);t.style.backgroundImage='url("'+i+'")'}if(a){var s=f(a,n);t.style.backgroundImage=s}},w={IMG:function(t,e){var n=b&&e.to_webp,r=e.data_srcset,a=t.parentNode;a&&"PICTURE"===a.tagName&&m(a,"srcset",r,n);var i=o(t,e.data_sizes);p(t,"sizes",i);var s=o(t,r);p(t,"srcset",s,n);var c=o(t,e.data_src);p(t,"src",c,n)},IFRAME:function(t,e){var n=o(t,e.data_src);p(t,"src",n)},VIDEO:function(t,e){var n=e.data_src,r=o(t,n);m(t,"src",n),p(t,"src",r),t.load()}},E=function(t,e){var n=e._settings,o=t.tagName,r=w[o];if(r)return r(t,n),e._updateLoadingCount(1),void(e._elements=u(e._elements,t));y(t,n)},I=function(t,e){h?t.classList.add(e):t.className+=(t.className?" ":"")+e},L=function(t,e){h?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\s+)"+e+"(\\s+|$)")," ").replace(/^\s+/,"").replace(/\s+$/,"")},C=function(t,e){t&&t(e)},O=function(t,e,n){t.addEventListener(e,n)},k=function(t,e,n){t.removeEventListener(e,n)},x=function(t,e,n){O(t,"load",e),O(t,"loadeddata",e),O(t,"error",n)},A=function(t,e,n){k(t,"load",e),k(t,"loadeddata",e),k(t,"error",n)},z=function(t,e,n){var o=n._settings,r=e?o.class_loaded:o.class_error,a=e?o.callback_load:o.callback_error,i=t.target;L(i,o.class_loading),I(i,r),C(a,i),n._updateLoadingCount(-1)},N=function(t,e){var n=function n(r){z(r,!0,e),A(t,n,o)},o=function o(r){z(r,!1,e),A(t,n,o)};x(t,n,o)},R=["IMG","IFRAME","VIDEO"],S=function(e,n,o){t(e,o),n.unobserve(e)},M=function(t){var e=c(t);e&&(clearTimeout(e),s(t,null))},j=function(t,e,n){var o=n._settings.load_delay,r=c(t);r||(r=setTimeout(function(){S(t,e,n),M(t)},o),s(t,r))},D=function(t){return t.isIntersecting||t.intersectionRatio>0},T=function(t){return{root:t.container===document?null:t.container,rootMargin:t.thresholds||t.threshold+"px"}},U=function(t,e){this._settings=n(t),this._setObserver(),this._loadingCount=0,this.update(e)};return U.prototype={_manageIntersection:function(t){var e=this._observer,n=this._settings.load_delay,o=t.target;n?D(t)?j(o,e,this):M(o):D(t)&&S(o,e,this)},_onIntersection:function(t){t.forEach(this._manageIntersection.bind(this))},_setObserver:function(){g&&(this._observer=new IntersectionObserver(this._onIntersection.bind(this),T(this._settings)))},_updateLoadingCount:function(t){this._loadingCount+=t,0===this._elements.length&&0===this._loadingCount&&C(this._settings.callback_finish)},update:function(t){var e=this,n=this._settings,o=t||n.container.querySelectorAll(n.elements_selector);this._elements=l(Array.prototype.slice.call(o)),!v&&this._observer?this._elements.forEach(function(t){e._observer.observe(t)}):this.loadAll()},destroy:function(){var t=this;this._observer&&(this._elements.forEach(function(e){t._observer.unobserve(e)}),this._observer=null),this._elements=null,this._settings=null},load:function(e,n){t(e,this,n)},loadAll:function(){var t=this;this._elements.forEach(function(e){t.load(e)})}},_&&function(t,e){if(e)if(e.length)for(var n,o=0;n=e[o];o+=1)d(t,n);else d(t,e)}(U,window.lazyLoadOptions),U});
//# sourceMappingURL=lazyload.min.js.map

//--------------------------------------------------------------------------------------------------------------------------
//                                              Lazy Load
//--------------------------------------------------------------------------------------------------------------------------
/*! jQuery & Zepto Lazy v1.7.10 - http://jquery.eisbehr.de/lazy - MIT&GPL-2.0 license - Copyright 2012-2018 Daniel 'Eisbehr' Kern */
!function(t,e){"use strict";function r(r,a,i,u,l){function f(){L=t.devicePixelRatio>1,i=c(i),a.delay>=0&&setTimeout(function(){s(!0)},a.delay),(a.delay<0||a.combined)&&(u.e=v(a.throttle,function(t){"resize"===t.type&&(w=B=-1),s(t.all)}),u.a=function(t){t=c(t),i.push.apply(i,t)},u.g=function(){return i=n(i).filter(function(){return!n(this).data(a.loadedName)})},u.f=function(t){for(var e=0;e<t.length;e++){var r=i.filter(function(){return this===t[e]});r.length&&s(!1,r)}},s(),n(a.appendScroll).on("scroll."+l+" resize."+l,u.e))}function c(t){var i=a.defaultImage,o=a.placeholder,u=a.imageBase,l=a.srcsetAttribute,f=a.loaderAttribute,c=a._f||{};t=n(t).filter(function(){var t=n(this),r=m(this);return!t.data(a.handledName)&&(t.attr(a.attribute)||t.attr(l)||t.attr(f)||c[r]!==e)}).data("plugin_"+a.name,r);for(var s=0,d=t.length;s<d;s++){var A=n(t[s]),g=m(t[s]),h=A.attr(a.imageBaseAttribute)||u;g===N&&h&&A.attr(l)&&A.attr(l,b(A.attr(l),h)),c[g]===e||A.attr(f)||A.attr(f,c[g]),g===N&&i&&!A.attr(E)?A.attr(E,i):g===N||!o||A.css(O)&&"none"!==A.css(O)||A.css(O,"url('"+o+"')")}return t}function s(t,e){if(!i.length)return void(a.autoDestroy&&r.destroy());for(var o=e||i,u=!1,l=a.imageBase||"",f=a.srcsetAttribute,c=a.handledName,s=0;s<o.length;s++)if(t||e||A(o[s])){var g=n(o[s]),h=m(o[s]),b=g.attr(a.attribute),v=g.attr(a.imageBaseAttribute)||l,p=g.attr(a.loaderAttribute);g.data(c)||a.visibleOnly&&!g.is(":visible")||!((b||g.attr(f))&&(h===N&&(v+b!==g.attr(E)||g.attr(f)!==g.attr(F))||h!==N&&v+b!==g.css(O))||p)||(u=!0,g.data(c,!0),d(g,h,v,p))}u&&(i=n(i).filter(function(){return!n(this).data(c)}))}function d(t,e,r,i){++z;var o=function(){y("onError",t),p(),o=n.noop};y("beforeLoad",t);var u=a.attribute,l=a.srcsetAttribute,f=a.sizesAttribute,c=a.retinaAttribute,s=a.removeAttribute,d=a.loadedName,A=t.attr(c);if(i){var g=function(){s&&t.removeAttr(a.loaderAttribute),t.data(d,!0),y(T,t),setTimeout(p,1),g=n.noop};t.off(I).one(I,o).one(D,g),y(i,t,function(e){e?(t.off(D),g()):(t.off(I),o())})||t.trigger(I)}else{var h=n(new Image);h.one(I,o).one(D,function(){t.hide(),e===N?t.attr(C,h.attr(C)).attr(F,h.attr(F)).attr(E,h.attr(E)):t.css(O,"url('"+h.attr(E)+"')"),t[a.effect](a.effectTime),s&&(t.removeAttr(u+" "+l+" "+c+" "+a.imageBaseAttribute),f!==C&&t.removeAttr(f)),t.data(d,!0),y(T,t),h.remove(),p()});var m=(L&&A?A:t.attr(u))||"";h.attr(C,t.attr(f)).attr(F,t.attr(l)).attr(E,m?r+m:null),h.complete&&h.trigger(D)}}function A(t){var e=t.getBoundingClientRect(),r=a.scrollDirection,n=a.threshold,i=h()+n>e.top&&-n<e.bottom,o=g()+n>e.left&&-n<e.right;return"vertical"===r?i:"horizontal"===r?o:i&&o}function g(){return w>=0?w:w=n(t).width()}function h(){return B>=0?B:B=n(t).height()}function m(t){return t.tagName.toLowerCase()}function b(t,e){if(e){var r=t.split(",");t="";for(var a=0,n=r.length;a<n;a++)t+=e+r[a].trim()+(a!==n-1?",":"")}return t}function v(t,e){var n,i=0;return function(o,u){function l(){i=+new Date,e.call(r,o)}var f=+new Date-i;n&&clearTimeout(n),f>t||!a.enableThrottle||u?l():n=setTimeout(l,t-f)}}function p(){--z,i.length||z||y("onFinishedAll")}function y(t,e,n){return!!(t=a[t])&&(t.apply(r,[].slice.call(arguments,1)),!0)}var z=0,w=-1,B=-1,L=!1,T="afterLoad",D="load",I="error",N="img",E="src",F="srcset",C="sizes",O="background-image";"event"===a.bind||o?f():n(t).on(D+"."+l,f)}function a(a,o){var u=this,l=n.extend({},u.config,o),f={},c=l.name+"-"+ ++i;return u.config=function(t,r){return r===e?l[t]:(l[t]=r,u)},u.addItems=function(t){return f.a&&f.a("string"===n.type(t)?n(t):t),u},u.getItems=function(){return f.g?f.g():{}},u.update=function(t){return f.e&&f.e({},!t),u},u.force=function(t){return f.f&&f.f("string"===n.type(t)?n(t):t),u},u.loadAll=function(){return f.e&&f.e({all:!0},!0),u},u.destroy=function(){return n(l.appendScroll).off("."+c,f.e),n(t).off("."+c),f={},e},r(u,l,a,f,c),l.chainable?a:u}var n=t.jQuery||t.Zepto,i=0,o=!1;n.fn.Lazy=n.fn.lazy=function(t){return new a(this,t)},n.Lazy=n.lazy=function(t,r,i){if(n.isFunction(r)&&(i=r,r=[]),n.isFunction(i)){t=n.isArray(t)?t:[t],r=n.isArray(r)?r:[r];for(var o=a.prototype.config,u=o._f||(o._f={}),l=0,f=t.length;l<f;l++)(o[t[l]]===e||n.isFunction(o[t[l]]))&&(o[t[l]]=i);for(var c=0,s=r.length;c<s;c++)u[r[c]]=t[0]}},a.prototype.config={name:"lazy",chainable:!0,autoDestroy:!0,bind:"load",threshold:500,visibleOnly:!1,appendScroll:t,scrollDirection:"both",imageBase:null,defaultImage:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",placeholder:null,delay:-1,combined:!1,attribute:"data-src",srcsetAttribute:"data-srcset",sizesAttribute:"data-sizes",retinaAttribute:"data-retina",loaderAttribute:"data-loader",imageBaseAttribute:"data-imagebase",removeAttribute:!0,handledName:"handled",loadedName:"loaded",effect:"show",effectTime:0,enableThrottle:!0,throttle:250,beforeLoad:e,afterLoad:e,onError:e,onFinishedAll:e},n(t).on("load",function(){o=!0})}(window);


//------------------------------------------    VIMEO Lazy Load  -------------------------------------------------------------------------

/*! jQuery & Zepto Lazy - iFrame Plugin v1.5 - http://jquery.eisbehr.de/lazy - MIT&GPL-2.0 license - Copyright 2012-2018 Daniel 'Eisbehr' Kern */
!function(t){t.lazy(["frame","iframe"],"iframe",function(r,a){var e=this;if("iframe"===r[0].tagName.toLowerCase()){var o=r.attr("data-error-detect");"true"!==o&&"1"!==o?(r.attr("src",r.attr("data-src")),e.config("removeAttribute")&&r.removeAttr("data-src data-error-detect")):t.ajax({url:r.attr("data-src"),dataType:"html",crossDomain:!0,xhrFields:{withCredentials:!0},success:function(t){r.html(t).attr("src",r.attr("data-src")),e.config("removeAttribute")&&r.removeAttr("data-src data-error-detect")},error:function(){a(!1)}})}else a(!1)})}(window.jQuery||window.Zepto);

/**
 * Fix Callback Script
 */
 function initMap() {
    return true;
}
var slice=[].slice;!function(t,n){var r;n.Starrr=r=function(){function n(n,r){var s;(this.options=t.extend({},this.defaults,r),this.$el=n,this.createStars(),this.syncRating(),this.options.readOnly)||(this.$el.on("mouseover.starrr","a",(s=this,function(t){return s.syncRating(s.getStars().index(t.currentTarget)+1)})),this.$el.on("mouseout.starrr",function(t){return function(){return t.syncRating()}}(this)),this.$el.on("click.starrr","a",function(t){return function(n){return n.preventDefault(),t.setRating(t.getStars().index(n.currentTarget)+1)}}(this)),this.$el.on("starrr:change",this.options.change))}return n.prototype.defaults={rating:void 0,max:5,readOnly:!1,emptyClass:"fa fa-star-o",fullClass:"fa fa-star",change:function(t,n){}},n.prototype.getStars=function(){return this.$el.find("a")},n.prototype.createStars=function(){var t,n,r;for(r=[],t=1,n=this.options.max;1<=n?t<=n:t>=n;1<=n?t++:t--)r.push(this.$el.append("<a href='#' />"));return r},n.prototype.setRating=function(t){return this.options.rating===t&&(t=void 0),this.options.rating=t,this.syncRating(),this.$el.trigger("starrr:change",t)},n.prototype.getRating=function(){return this.options.rating},n.prototype.syncRating=function(t){var n,r,s,i,e;for(t||(t=this.options.rating),n=this.getStars(),e=[],r=s=1,i=this.options.max;1<=i?s<=i:s>=i;r=1<=i?++s:--s)e.push(n.eq(r-1).removeClass(t>=r?this.options.emptyClass:this.options.fullClass).addClass(t>=r?this.options.fullClass:this.options.emptyClass));return e},n}(),t.fn.extend({starrr:function(){var n,s;return s=arguments[0],n=2<=arguments.length?slice.call(arguments,1):[],this.each(function(){var i;if((i=t(this).data("starrr"))||t(this).data("starrr",i=new r(t(this),s)),"string"==typeof s)return i[s].apply(i,n)})}})}(window.jQuery,window);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFuaW1lLm1pbi5qcyIsImZyb29nYWxvb3AuanMiLCJqcXVlcnkud2F5cG9pbnRzLm1pbi5qcyIsInNjcmlwdHMuanMiLCJzdGFycnIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDTkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUM3Q0EiLCJmaWxlIjoidmVuZG9yX3NjcmlwdHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIhZnVuY3Rpb24obixlKXtcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1vZHVsZT9tb2R1bGUuZXhwb3J0cz1lKCk6XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShlKTpuLmFuaW1lPWUoKX0odGhpcyxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3ZhciBuPXt1cGRhdGU6bnVsbCxiZWdpbjpudWxsLGxvb3BCZWdpbjpudWxsLGNoYW5nZUJlZ2luOm51bGwsY2hhbmdlOm51bGwsY2hhbmdlQ29tcGxldGU6bnVsbCxsb29wQ29tcGxldGU6bnVsbCxjb21wbGV0ZTpudWxsLGxvb3A6MSxkaXJlY3Rpb246XCJub3JtYWxcIixhdXRvcGxheTohMCx0aW1lbGluZU9mZnNldDowfSxlPXtkdXJhdGlvbjoxZTMsZGVsYXk6MCxlbmREZWxheTowLGVhc2luZzpcImVhc2VPdXRFbGFzdGljKDEsIC41KVwiLHJvdW5kOjB9LHI9W1widHJhbnNsYXRlWFwiLFwidHJhbnNsYXRlWVwiLFwidHJhbnNsYXRlWlwiLFwicm90YXRlXCIsXCJyb3RhdGVYXCIsXCJyb3RhdGVZXCIsXCJyb3RhdGVaXCIsXCJzY2FsZVwiLFwic2NhbGVYXCIsXCJzY2FsZVlcIixcInNjYWxlWlwiLFwic2tld1wiLFwic2tld1hcIixcInNrZXdZXCIsXCJwZXJzcGVjdGl2ZVwiLFwibWF0cml4XCIsXCJtYXRyaXgzZFwiXSx0PXtDU1M6e30sc3ByaW5nczp7fX07ZnVuY3Rpb24gYShuLGUscil7cmV0dXJuIE1hdGgubWluKE1hdGgubWF4KG4sZSkscil9ZnVuY3Rpb24gbyhuLGUpe3JldHVybiBuLmluZGV4T2YoZSk+LTF9ZnVuY3Rpb24gdShuLGUpe3JldHVybiBuLmFwcGx5KG51bGwsZSl9dmFyIGk9e2FycjpmdW5jdGlvbihuKXtyZXR1cm4gQXJyYXkuaXNBcnJheShuKX0sb2JqOmZ1bmN0aW9uKG4pe3JldHVybiBvKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuKSxcIk9iamVjdFwiKX0scHRoOmZ1bmN0aW9uKG4pe3JldHVybiBpLm9iaihuKSYmbi5oYXNPd25Qcm9wZXJ0eShcInRvdGFsTGVuZ3RoXCIpfSxzdmc6ZnVuY3Rpb24obil7cmV0dXJuIG4gaW5zdGFuY2VvZiBTVkdFbGVtZW50fSxpbnA6ZnVuY3Rpb24obil7cmV0dXJuIG4gaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50fSxkb206ZnVuY3Rpb24obil7cmV0dXJuIG4ubm9kZVR5cGV8fGkuc3ZnKG4pfSxzdHI6ZnVuY3Rpb24obil7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIG59LGZuYzpmdW5jdGlvbihuKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBufSx1bmQ6ZnVuY3Rpb24obil7cmV0dXJuIHZvaWQgMD09PW59LGhleDpmdW5jdGlvbihuKXtyZXR1cm4vKF4jWzAtOUEtRl17Nn0kKXwoXiNbMC05QS1GXXszfSQpL2kudGVzdChuKX0scmdiOmZ1bmN0aW9uKG4pe3JldHVybi9ecmdiLy50ZXN0KG4pfSxoc2w6ZnVuY3Rpb24obil7cmV0dXJuL15oc2wvLnRlc3Qobil9LGNvbDpmdW5jdGlvbihuKXtyZXR1cm4gaS5oZXgobil8fGkucmdiKG4pfHxpLmhzbChuKX0sa2V5OmZ1bmN0aW9uKHIpe3JldHVybiFuLmhhc093blByb3BlcnR5KHIpJiYhZS5oYXNPd25Qcm9wZXJ0eShyKSYmXCJ0YXJnZXRzXCIhPT1yJiZcImtleWZyYW1lc1wiIT09cn19O2Z1bmN0aW9uIGMobil7dmFyIGU9L1xcKChbXildKylcXCkvLmV4ZWMobik7cmV0dXJuIGU/ZVsxXS5zcGxpdChcIixcIikubWFwKGZ1bmN0aW9uKG4pe3JldHVybiBwYXJzZUZsb2F0KG4pfSk6W119ZnVuY3Rpb24gcyhuLGUpe3ZhciByPWMobiksbz1hKGkudW5kKHJbMF0pPzE6clswXSwuMSwxMDApLHU9YShpLnVuZChyWzFdKT8xMDA6clsxXSwuMSwxMDApLHM9YShpLnVuZChyWzJdKT8xMDpyWzJdLC4xLDEwMCksZj1hKGkudW5kKHJbM10pPzA6clszXSwuMSwxMDApLGw9TWF0aC5zcXJ0KHUvbyksZD1zLygyKk1hdGguc3FydCh1Km8pKSxwPWQ8MT9sKk1hdGguc3FydCgxLWQqZCk6MCxoPTEsdj1kPDE/KGQqbC1mKS9wOi1mK2w7ZnVuY3Rpb24gZyhuKXt2YXIgcj1lP2Uqbi8xZTM6bjtyZXR1cm4gcj1kPDE/TWF0aC5leHAoLXIqZCpsKSooaCpNYXRoLmNvcyhwKnIpK3YqTWF0aC5zaW4ocCpyKSk6KGgrdipyKSpNYXRoLmV4cCgtcipsKSwwPT09bnx8MT09PW4/bjoxLXJ9cmV0dXJuIGU/ZzpmdW5jdGlvbigpe3ZhciBlPXQuc3ByaW5nc1tuXTtpZihlKXJldHVybiBlO2Zvcih2YXIgcj0wLGE9MDs7KWlmKDE9PT1nKHIrPTEvNikpe2lmKCsrYT49MTYpYnJlYWt9ZWxzZSBhPTA7dmFyIG89ciooMS82KSoxZTM7cmV0dXJuIHQuc3ByaW5nc1tuXT1vLG99fWZ1bmN0aW9uIGYobil7cmV0dXJuIHZvaWQgMD09PW4mJihuPTEwKSxmdW5jdGlvbihlKXtyZXR1cm4gTWF0aC5jZWlsKGEoZSwxZS02LDEpKm4pKigxL24pfX12YXIgbCxkLHA9ZnVuY3Rpb24oKXt2YXIgbj0xMSxlPTEvKG4tMSk7ZnVuY3Rpb24gcihuLGUpe3JldHVybiAxLTMqZSszKm59ZnVuY3Rpb24gdChuLGUpe3JldHVybiAzKmUtNipufWZ1bmN0aW9uIGEobil7cmV0dXJuIDMqbn1mdW5jdGlvbiBvKG4sZSxvKXtyZXR1cm4oKHIoZSxvKSpuK3QoZSxvKSkqbithKGUpKSpufWZ1bmN0aW9uIHUobixlLG8pe3JldHVybiAzKnIoZSxvKSpuKm4rMip0KGUsbykqbithKGUpfXJldHVybiBmdW5jdGlvbihyLHQsYSxpKXtpZigwPD1yJiZyPD0xJiYwPD1hJiZhPD0xKXt2YXIgYz1uZXcgRmxvYXQzMkFycmF5KG4pO2lmKHIhPT10fHxhIT09aSlmb3IodmFyIHM9MDtzPG47KytzKWNbc109byhzKmUscixhKTtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHI9PT10JiZhPT09aT9uOjA9PT1ufHwxPT09bj9uOm8oZihuKSx0LGkpfX1mdW5jdGlvbiBmKHQpe2Zvcih2YXIgaT0wLHM9MSxmPW4tMTtzIT09ZiYmY1tzXTw9dDsrK3MpaSs9ZTt2YXIgbD1pKyh0LWNbLS1zXSkvKGNbcysxXS1jW3NdKSplLGQ9dShsLHIsYSk7cmV0dXJuIGQ+PS4wMDE/ZnVuY3Rpb24obixlLHIsdCl7Zm9yKHZhciBhPTA7YTw0OysrYSl7dmFyIGk9dShlLHIsdCk7aWYoMD09PWkpcmV0dXJuIGU7ZS09KG8oZSxyLHQpLW4pL2l9cmV0dXJuIGV9KHQsbCxyLGEpOjA9PT1kP2w6ZnVuY3Rpb24obixlLHIsdCxhKXtmb3IodmFyIHUsaSxjPTA7KHU9byhpPWUrKHItZSkvMix0LGEpLW4pPjA/cj1pOmU9aSxNYXRoLmFicyh1KT4xZS03JiYrK2M8MTA7KTtyZXR1cm4gaX0odCxpLGkrZSxyLGEpfX19KCksaD0obD17bGluZWFyOmZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBufX19LGQ9e1NpbmU6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIDEtTWF0aC5jb3MobipNYXRoLlBJLzIpfX0sQ2lyYzpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gMS1NYXRoLnNxcnQoMS1uKm4pfX0sQmFjazpmdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gbipuKigzKm4tMil9fSxCb3VuY2U6ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24obil7Zm9yKHZhciBlLHI9NDtuPCgoZT1NYXRoLnBvdygyLC0tcikpLTEpLzExOyk7cmV0dXJuIDEvTWF0aC5wb3coNCwzLXIpLTcuNTYyNSpNYXRoLnBvdygoMyplLTIpLzIyLW4sMil9fSxFbGFzdGljOmZ1bmN0aW9uKG4sZSl7dm9pZCAwPT09biYmKG49MSksdm9pZCAwPT09ZSYmKGU9LjUpO3ZhciByPWEobiwxLDEwKSx0PWEoZSwuMSwyKTtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIDA9PT1ufHwxPT09bj9uOi1yKk1hdGgucG93KDIsMTAqKG4tMSkpKk1hdGguc2luKChuLTEtdC8oMipNYXRoLlBJKSpNYXRoLmFzaW4oMS9yKSkqKDIqTWF0aC5QSSkvdCl9fX0sW1wiUXVhZFwiLFwiQ3ViaWNcIixcIlF1YXJ0XCIsXCJRdWludFwiLFwiRXhwb1wiXS5mb3JFYWNoKGZ1bmN0aW9uKG4sZSl7ZFtuXT1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gTWF0aC5wb3cobixlKzIpfX19KSxPYmplY3Qua2V5cyhkKS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3ZhciBlPWRbbl07bFtcImVhc2VJblwiK25dPWUsbFtcImVhc2VPdXRcIituXT1mdW5jdGlvbihuLHIpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gMS1lKG4scikoMS10KX19LGxbXCJlYXNlSW5PdXRcIituXT1mdW5jdGlvbihuLHIpe3JldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gdDwuNT9lKG4scikoMip0KS8yOjEtZShuLHIpKC0yKnQrMikvMn19fSksbCk7ZnVuY3Rpb24gdihuLGUpe2lmKGkuZm5jKG4pKXJldHVybiBuO3ZhciByPW4uc3BsaXQoXCIoXCIpWzBdLHQ9aFtyXSxhPWMobik7c3dpdGNoKHIpe2Nhc2VcInNwcmluZ1wiOnJldHVybiBzKG4sZSk7Y2FzZVwiY3ViaWNCZXppZXJcIjpyZXR1cm4gdShwLGEpO2Nhc2VcInN0ZXBzXCI6cmV0dXJuIHUoZixhKTtkZWZhdWx0OnJldHVybiB1KHQsYSl9fWZ1bmN0aW9uIGcobil7dHJ5e3JldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKG4pfWNhdGNoKG4pe3JldHVybn19ZnVuY3Rpb24gbShuLGUpe2Zvcih2YXIgcj1uLmxlbmd0aCx0PWFyZ3VtZW50cy5sZW5ndGg+PTI/YXJndW1lbnRzWzFdOnZvaWQgMCxhPVtdLG89MDtvPHI7bysrKWlmKG8gaW4gbil7dmFyIHU9bltvXTtlLmNhbGwodCx1LG8sbikmJmEucHVzaCh1KX1yZXR1cm4gYX1mdW5jdGlvbiB5KG4pe3JldHVybiBuLnJlZHVjZShmdW5jdGlvbihuLGUpe3JldHVybiBuLmNvbmNhdChpLmFycihlKT95KGUpOmUpfSxbXSl9ZnVuY3Rpb24gYihuKXtyZXR1cm4gaS5hcnIobik/bjooaS5zdHIobikmJihuPWcobil8fG4pLG4gaW5zdGFuY2VvZiBOb2RlTGlzdHx8biBpbnN0YW5jZW9mIEhUTUxDb2xsZWN0aW9uP1tdLnNsaWNlLmNhbGwobik6W25dKX1mdW5jdGlvbiB4KG4sZSl7cmV0dXJuIG4uc29tZShmdW5jdGlvbihuKXtyZXR1cm4gbj09PWV9KX1mdW5jdGlvbiBNKG4pe3ZhciBlPXt9O2Zvcih2YXIgciBpbiBuKWVbcl09bltyXTtyZXR1cm4gZX1mdW5jdGlvbiB3KG4sZSl7dmFyIHI9TShuKTtmb3IodmFyIHQgaW4gbilyW3RdPWUuaGFzT3duUHJvcGVydHkodCk/ZVt0XTpuW3RdO3JldHVybiByfWZ1bmN0aW9uIGsobixlKXt2YXIgcj1NKG4pO2Zvcih2YXIgdCBpbiBlKXJbdF09aS51bmQoblt0XSk/ZVt0XTpuW3RdO3JldHVybiByfWZ1bmN0aW9uIE8obil7cmV0dXJuIGkucmdiKG4pPyhyPS9yZ2JcXCgoXFxkKyxcXHMqW1xcZF0rLFxccypbXFxkXSspXFwpL2cuZXhlYyhlPW4pKT9cInJnYmEoXCIrclsxXStcIiwxKVwiOmU6aS5oZXgobik/KHQ9bi5yZXBsYWNlKC9eIz8oW2EtZlxcZF0pKFthLWZcXGRdKShbYS1mXFxkXSkkL2ksZnVuY3Rpb24obixlLHIsdCl7cmV0dXJuIGUrZStyK3IrdCt0fSksYT0vXiM/KFthLWZcXGRdezJ9KShbYS1mXFxkXXsyfSkoW2EtZlxcZF17Mn0pJC9pLmV4ZWModCksXCJyZ2JhKFwiK3BhcnNlSW50KGFbMV0sMTYpK1wiLFwiK3BhcnNlSW50KGFbMl0sMTYpK1wiLFwiK3BhcnNlSW50KGFbM10sMTYpK1wiLDEpXCIpOmkuaHNsKG4pP2Z1bmN0aW9uKG4pe3ZhciBlLHIsdCxhPS9oc2xcXCgoXFxkKyksXFxzKihbXFxkLl0rKSUsXFxzKihbXFxkLl0rKSVcXCkvZy5leGVjKG4pfHwvaHNsYVxcKChcXGQrKSxcXHMqKFtcXGQuXSspJSxcXHMqKFtcXGQuXSspJSxcXHMqKFtcXGQuXSspXFwpL2cuZXhlYyhuKSxvPXBhcnNlSW50KGFbMV0sMTApLzM2MCx1PXBhcnNlSW50KGFbMl0sMTApLzEwMCxpPXBhcnNlSW50KGFbM10sMTApLzEwMCxjPWFbNF18fDE7ZnVuY3Rpb24gcyhuLGUscil7cmV0dXJuIHI8MCYmKHIrPTEpLHI+MSYmKHItPTEpLHI8MS82P24rNiooZS1uKSpyOnI8LjU/ZTpyPDIvMz9uKyhlLW4pKigyLzMtcikqNjpufWlmKDA9PXUpZT1yPXQ9aTtlbHNle3ZhciBmPWk8LjU/aSooMSt1KTppK3UtaSp1LGw9MippLWY7ZT1zKGwsZixvKzEvMykscj1zKGwsZixvKSx0PXMobCxmLG8tMS8zKX1yZXR1cm5cInJnYmEoXCIrMjU1KmUrXCIsXCIrMjU1KnIrXCIsXCIrMjU1KnQrXCIsXCIrYytcIilcIn0obik6dm9pZCAwO3ZhciBlLHIsdCxhfWZ1bmN0aW9uIEMobil7dmFyIGU9L1srLV0/XFxkKlxcLj9cXGQrKD86XFwuXFxkKyk/KD86W2VFXVsrLV0/XFxkKyk/KCV8cHh8cHR8ZW18cmVtfGlufGNtfG1tfGV4fGNofHBjfHZ3fHZofHZtaW58dm1heHxkZWd8cmFkfHR1cm4pPyQvLmV4ZWMobik7aWYoZSlyZXR1cm4gZVsxXX1mdW5jdGlvbiBCKG4sZSl7cmV0dXJuIGkuZm5jKG4pP24oZS50YXJnZXQsZS5pZCxlLnRvdGFsKTpufWZ1bmN0aW9uIFAobixlKXtyZXR1cm4gbi5nZXRBdHRyaWJ1dGUoZSl9ZnVuY3Rpb24gSShuLGUscil7aWYoeChbcixcImRlZ1wiLFwicmFkXCIsXCJ0dXJuXCJdLEMoZSkpKXJldHVybiBlO3ZhciBhPXQuQ1NTW2Urcl07aWYoIWkudW5kKGEpKXJldHVybiBhO3ZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobi50YWdOYW1lKSx1PW4ucGFyZW50Tm9kZSYmbi5wYXJlbnROb2RlIT09ZG9jdW1lbnQ/bi5wYXJlbnROb2RlOmRvY3VtZW50LmJvZHk7dS5hcHBlbmRDaGlsZChvKSxvLnN0eWxlLnBvc2l0aW9uPVwiYWJzb2x1dGVcIixvLnN0eWxlLndpZHRoPTEwMCtyO3ZhciBjPTEwMC9vLm9mZnNldFdpZHRoO3UucmVtb3ZlQ2hpbGQobyk7dmFyIHM9YypwYXJzZUZsb2F0KGUpO3JldHVybiB0LkNTU1tlK3JdPXMsc31mdW5jdGlvbiBUKG4sZSxyKXtpZihlIGluIG4uc3R5bGUpe3ZhciB0PWUucmVwbGFjZSgvKFthLXpdKShbQS1aXSkvZyxcIiQxLSQyXCIpLnRvTG93ZXJDYXNlKCksYT1uLnN0eWxlW2VdfHxnZXRDb21wdXRlZFN0eWxlKG4pLmdldFByb3BlcnR5VmFsdWUodCl8fFwiMFwiO3JldHVybiByP0kobixhLHIpOmF9fWZ1bmN0aW9uIEQobixlKXtyZXR1cm4gaS5kb20obikmJiFpLmlucChuKSYmKFAobixlKXx8aS5zdmcobikmJm5bZV0pP1wiYXR0cmlidXRlXCI6aS5kb20obikmJngocixlKT9cInRyYW5zZm9ybVwiOmkuZG9tKG4pJiZcInRyYW5zZm9ybVwiIT09ZSYmVChuLGUpP1wiY3NzXCI6bnVsbCE9bltlXT9cIm9iamVjdFwiOnZvaWQgMH1mdW5jdGlvbiBFKG4pe2lmKGkuZG9tKG4pKXtmb3IodmFyIGUscj1uLnN0eWxlLnRyYW5zZm9ybXx8XCJcIix0PS8oXFx3KylcXCgoW14pXSopXFwpL2csYT1uZXcgTWFwO2U9dC5leGVjKHIpOylhLnNldChlWzFdLGVbMl0pO3JldHVybiBhfX1mdW5jdGlvbiBGKG4sZSxyLHQpe3ZhciBhLHU9byhlLFwic2NhbGVcIik/MTowKyhvKGE9ZSxcInRyYW5zbGF0ZVwiKXx8XCJwZXJzcGVjdGl2ZVwiPT09YT9cInB4XCI6byhhLFwicm90YXRlXCIpfHxvKGEsXCJza2V3XCIpP1wiZGVnXCI6dm9pZCAwKSxpPUUobikuZ2V0KGUpfHx1O3JldHVybiByJiYoci50cmFuc2Zvcm1zLmxpc3Quc2V0KGUsaSksci50cmFuc2Zvcm1zLmxhc3Q9ZSksdD9JKG4saSx0KTppfWZ1bmN0aW9uIE4obixlLHIsdCl7c3dpdGNoKEQobixlKSl7Y2FzZVwidHJhbnNmb3JtXCI6cmV0dXJuIEYobixlLHQscik7Y2FzZVwiY3NzXCI6cmV0dXJuIFQobixlLHIpO2Nhc2VcImF0dHJpYnV0ZVwiOnJldHVybiBQKG4sZSk7ZGVmYXVsdDpyZXR1cm4gbltlXXx8MH19ZnVuY3Rpb24gQShuLGUpe3ZhciByPS9eKFxcKj18XFwrPXwtPSkvLmV4ZWMobik7aWYoIXIpcmV0dXJuIG47dmFyIHQ9QyhuKXx8MCxhPXBhcnNlRmxvYXQoZSksbz1wYXJzZUZsb2F0KG4ucmVwbGFjZShyWzBdLFwiXCIpKTtzd2l0Y2goclswXVswXSl7Y2FzZVwiK1wiOnJldHVybiBhK28rdDtjYXNlXCItXCI6cmV0dXJuIGEtbyt0O2Nhc2VcIipcIjpyZXR1cm4gYSpvK3R9fWZ1bmN0aW9uIEwobixlKXtpZihpLmNvbChuKSlyZXR1cm4gTyhuKTtpZigvXFxzL2cudGVzdChuKSlyZXR1cm4gbjt2YXIgcj1DKG4pLHQ9cj9uLnN1YnN0cigwLG4ubGVuZ3RoLXIubGVuZ3RoKTpuO3JldHVybiBlP3QrZTp0fWZ1bmN0aW9uIGoobixlKXtyZXR1cm4gTWF0aC5zcXJ0KE1hdGgucG93KGUueC1uLngsMikrTWF0aC5wb3coZS55LW4ueSwyKSl9ZnVuY3Rpb24gUyhuKXtmb3IodmFyIGUscj1uLnBvaW50cyx0PTAsYT0wO2E8ci5udW1iZXJPZkl0ZW1zO2ErKyl7dmFyIG89ci5nZXRJdGVtKGEpO2E+MCYmKHQrPWooZSxvKSksZT1vfXJldHVybiB0fWZ1bmN0aW9uIHEobil7aWYobi5nZXRUb3RhbExlbmd0aClyZXR1cm4gbi5nZXRUb3RhbExlbmd0aCgpO3N3aXRjaChuLnRhZ05hbWUudG9Mb3dlckNhc2UoKSl7Y2FzZVwiY2lyY2xlXCI6cmV0dXJuIG89biwyKk1hdGguUEkqUChvLFwiclwiKTtjYXNlXCJyZWN0XCI6cmV0dXJuIDIqUChhPW4sXCJ3aWR0aFwiKSsyKlAoYSxcImhlaWdodFwiKTtjYXNlXCJsaW5lXCI6cmV0dXJuIGooe3g6UCh0PW4sXCJ4MVwiKSx5OlAodCxcInkxXCIpfSx7eDpQKHQsXCJ4MlwiKSx5OlAodCxcInkyXCIpfSk7Y2FzZVwicG9seWxpbmVcIjpyZXR1cm4gUyhuKTtjYXNlXCJwb2x5Z29uXCI6cmV0dXJuIHI9KGU9bikucG9pbnRzLFMoZSkraihyLmdldEl0ZW0oci5udW1iZXJPZkl0ZW1zLTEpLHIuZ2V0SXRlbSgwKSl9dmFyIGUscix0LGEsb31mdW5jdGlvbiAkKG4sZSl7dmFyIHI9ZXx8e30sdD1yLmVsfHxmdW5jdGlvbihuKXtmb3IodmFyIGU9bi5wYXJlbnROb2RlO2kuc3ZnKGUpJiZpLnN2ZyhlLnBhcmVudE5vZGUpOyllPWUucGFyZW50Tm9kZTtyZXR1cm4gZX0obiksYT10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLG89UCh0LFwidmlld0JveFwiKSx1PWEud2lkdGgsYz1hLmhlaWdodCxzPXIudmlld0JveHx8KG8/by5zcGxpdChcIiBcIik6WzAsMCx1LGNdKTtyZXR1cm57ZWw6dCx2aWV3Qm94OnMseDpzWzBdLzEseTpzWzFdLzEsdzp1L3NbMl0saDpjL3NbM119fWZ1bmN0aW9uIFgobixlKXtmdW5jdGlvbiByKHIpe3ZvaWQgMD09PXImJihyPTApO3ZhciB0PWUrcj49MT9lK3I6MDtyZXR1cm4gbi5lbC5nZXRQb2ludEF0TGVuZ3RoKHQpfXZhciB0PSQobi5lbCxuLnN2ZyksYT1yKCksbz1yKC0xKSx1PXIoMSk7c3dpdGNoKG4ucHJvcGVydHkpe2Nhc2VcInhcIjpyZXR1cm4oYS54LXQueCkqdC53O2Nhc2VcInlcIjpyZXR1cm4oYS55LXQueSkqdC5oO2Nhc2VcImFuZ2xlXCI6cmV0dXJuIDE4MCpNYXRoLmF0YW4yKHUueS1vLnksdS54LW8ueCkvTWF0aC5QSX19ZnVuY3Rpb24gWShuLGUpe3ZhciByPS9bKy1dP1xcZCpcXC4/XFxkKyg/OlxcLlxcZCspPyg/OltlRV1bKy1dP1xcZCspPy9nLHQ9TChpLnB0aChuKT9uLnRvdGFsTGVuZ3RoOm4sZSkrXCJcIjtyZXR1cm57b3JpZ2luYWw6dCxudW1iZXJzOnQubWF0Y2gocik/dC5tYXRjaChyKS5tYXAoTnVtYmVyKTpbMF0sc3RyaW5nczppLnN0cihuKXx8ZT90LnNwbGl0KHIpOltdfX1mdW5jdGlvbiBaKG4pe3JldHVybiBtKG4/eShpLmFycihuKT9uLm1hcChiKTpiKG4pKTpbXSxmdW5jdGlvbihuLGUscil7cmV0dXJuIHIuaW5kZXhPZihuKT09PWV9KX1mdW5jdGlvbiBRKG4pe3ZhciBlPVoobik7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKG4scil7cmV0dXJue3RhcmdldDpuLGlkOnIsdG90YWw6ZS5sZW5ndGgsdHJhbnNmb3Jtczp7bGlzdDpFKG4pfX19KX1mdW5jdGlvbiBWKG4sZSl7dmFyIHI9TShlKTtpZigvXnNwcmluZy8udGVzdChyLmVhc2luZykmJihyLmR1cmF0aW9uPXMoci5lYXNpbmcpKSxpLmFycihuKSl7dmFyIHQ9bi5sZW5ndGg7Mj09PXQmJiFpLm9iaihuWzBdKT9uPXt2YWx1ZTpufTppLmZuYyhlLmR1cmF0aW9uKXx8KHIuZHVyYXRpb249ZS5kdXJhdGlvbi90KX12YXIgYT1pLmFycihuKT9uOltuXTtyZXR1cm4gYS5tYXAoZnVuY3Rpb24obixyKXt2YXIgdD1pLm9iaihuKSYmIWkucHRoKG4pP246e3ZhbHVlOm59O3JldHVybiBpLnVuZCh0LmRlbGF5KSYmKHQuZGVsYXk9cj8wOmUuZGVsYXkpLGkudW5kKHQuZW5kRGVsYXkpJiYodC5lbmREZWxheT1yPT09YS5sZW5ndGgtMT9lLmVuZERlbGF5OjApLHR9KS5tYXAoZnVuY3Rpb24obil7cmV0dXJuIGsobixyKX0pfWZ1bmN0aW9uIHoobixlKXt2YXIgcj1bXSx0PWUua2V5ZnJhbWVzO2Zvcih2YXIgYSBpbiB0JiYoZT1rKGZ1bmN0aW9uKG4pe2Zvcih2YXIgZT1tKHkobi5tYXAoZnVuY3Rpb24obil7cmV0dXJuIE9iamVjdC5rZXlzKG4pfSkpLGZ1bmN0aW9uKG4pe3JldHVybiBpLmtleShuKX0pLnJlZHVjZShmdW5jdGlvbihuLGUpe3JldHVybiBuLmluZGV4T2YoZSk8MCYmbi5wdXNoKGUpLG59LFtdKSxyPXt9LHQ9ZnVuY3Rpb24odCl7dmFyIGE9ZVt0XTtyW2FdPW4ubWFwKGZ1bmN0aW9uKG4pe3ZhciBlPXt9O2Zvcih2YXIgciBpbiBuKWkua2V5KHIpP3I9PWEmJihlLnZhbHVlPW5bcl0pOmVbcl09bltyXTtyZXR1cm4gZX0pfSxhPTA7YTxlLmxlbmd0aDthKyspdChhKTtyZXR1cm4gcn0odCksZSkpLGUpaS5rZXkoYSkmJnIucHVzaCh7bmFtZTphLHR3ZWVuczpWKGVbYV0sbil9KTtyZXR1cm4gcn1mdW5jdGlvbiBIKG4sZSl7dmFyIHI7cmV0dXJuIG4udHdlZW5zLm1hcChmdW5jdGlvbih0KXt2YXIgYT1mdW5jdGlvbihuLGUpe3ZhciByPXt9O2Zvcih2YXIgdCBpbiBuKXt2YXIgYT1CKG5bdF0sZSk7aS5hcnIoYSkmJjE9PT0oYT1hLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gQihuLGUpfSkpLmxlbmd0aCYmKGE9YVswXSksclt0XT1hfXJldHVybiByLmR1cmF0aW9uPXBhcnNlRmxvYXQoci5kdXJhdGlvbiksci5kZWxheT1wYXJzZUZsb2F0KHIuZGVsYXkpLHJ9KHQsZSksbz1hLnZhbHVlLHU9aS5hcnIobyk/b1sxXTpvLGM9Qyh1KSxzPU4oZS50YXJnZXQsbi5uYW1lLGMsZSksZj1yP3IudG8ub3JpZ2luYWw6cyxsPWkuYXJyKG8pP29bMF06ZixkPUMobCl8fEMocykscD1jfHxkO3JldHVybiBpLnVuZCh1KSYmKHU9ZiksYS5mcm9tPVkobCxwKSxhLnRvPVkoQSh1LGwpLHApLGEuc3RhcnQ9cj9yLmVuZDowLGEuZW5kPWEuc3RhcnQrYS5kZWxheSthLmR1cmF0aW9uK2EuZW5kRGVsYXksYS5lYXNpbmc9dihhLmVhc2luZyxhLmR1cmF0aW9uKSxhLmlzUGF0aD1pLnB0aChvKSxhLmlzQ29sb3I9aS5jb2woYS5mcm9tLm9yaWdpbmFsKSxhLmlzQ29sb3ImJihhLnJvdW5kPTEpLHI9YSxhfSl9dmFyIEc9e2NzczpmdW5jdGlvbihuLGUscil7cmV0dXJuIG4uc3R5bGVbZV09cn0sYXR0cmlidXRlOmZ1bmN0aW9uKG4sZSxyKXtyZXR1cm4gbi5zZXRBdHRyaWJ1dGUoZSxyKX0sb2JqZWN0OmZ1bmN0aW9uKG4sZSxyKXtyZXR1cm4gbltlXT1yfSx0cmFuc2Zvcm06ZnVuY3Rpb24obixlLHIsdCxhKXtpZih0Lmxpc3Quc2V0KGUsciksZT09PXQubGFzdHx8YSl7dmFyIG89XCJcIjt0Lmxpc3QuZm9yRWFjaChmdW5jdGlvbihuLGUpe28rPWUrXCIoXCIrbitcIikgXCJ9KSxuLnN0eWxlLnRyYW5zZm9ybT1vfX19O2Z1bmN0aW9uIFIobixlKXtRKG4pLmZvckVhY2goZnVuY3Rpb24obil7Zm9yKHZhciByIGluIGUpe3ZhciB0PUIoZVtyXSxuKSxhPW4udGFyZ2V0LG89Qyh0KSx1PU4oYSxyLG8sbiksaT1BKEwodCxvfHxDKHUpKSx1KSxjPUQoYSxyKTtHW2NdKGEscixpLG4udHJhbnNmb3JtcywhMCl9fSl9ZnVuY3Rpb24gVyhuLGUpe3JldHVybiBtKHkobi5tYXAoZnVuY3Rpb24obil7cmV0dXJuIGUubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbihuLGUpe3ZhciByPUQobi50YXJnZXQsZS5uYW1lKTtpZihyKXt2YXIgdD1IKGUsbiksYT10W3QubGVuZ3RoLTFdO3JldHVybnt0eXBlOnIscHJvcGVydHk6ZS5uYW1lLGFuaW1hdGFibGU6bix0d2VlbnM6dCxkdXJhdGlvbjphLmVuZCxkZWxheTp0WzBdLmRlbGF5LGVuZERlbGF5OmEuZW5kRGVsYXl9fX0obixlKX0pfSkpLGZ1bmN0aW9uKG4pe3JldHVybiFpLnVuZChuKX0pfWZ1bmN0aW9uIEoobixlKXt2YXIgcj1uLmxlbmd0aCx0PWZ1bmN0aW9uKG4pe3JldHVybiBuLnRpbWVsaW5lT2Zmc2V0P24udGltZWxpbmVPZmZzZXQ6MH0sYT17fTtyZXR1cm4gYS5kdXJhdGlvbj1yP01hdGgubWF4LmFwcGx5KE1hdGgsbi5tYXAoZnVuY3Rpb24obil7cmV0dXJuIHQobikrbi5kdXJhdGlvbn0pKTplLmR1cmF0aW9uLGEuZGVsYXk9cj9NYXRoLm1pbi5hcHBseShNYXRoLG4ubWFwKGZ1bmN0aW9uKG4pe3JldHVybiB0KG4pK24uZGVsYXl9KSk6ZS5kZWxheSxhLmVuZERlbGF5PXI/YS5kdXJhdGlvbi1NYXRoLm1heC5hcHBseShNYXRoLG4ubWFwKGZ1bmN0aW9uKG4pe3JldHVybiB0KG4pK24uZHVyYXRpb24tbi5lbmREZWxheX0pKTplLmVuZERlbGF5LGF9dmFyIEs9MDt2YXIgVSxfPVtdLG5uPVtdLGVuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbigpe1U9cmVxdWVzdEFuaW1hdGlvbkZyYW1lKGUpfWZ1bmN0aW9uIGUoZSl7dmFyIHI9Xy5sZW5ndGg7aWYocil7Zm9yKHZhciB0PTA7dDxyOyl7dmFyIGE9X1t0XTtpZihhLnBhdXNlZCl7dmFyIG89Xy5pbmRleE9mKGEpO28+LTEmJihfLnNwbGljZShvLDEpLHI9Xy5sZW5ndGgpfWVsc2UgYS50aWNrKGUpO3QrK31uKCl9ZWxzZSBVPWNhbmNlbEFuaW1hdGlvbkZyYW1lKFUpfXJldHVybiBufSgpO2Z1bmN0aW9uIHJuKHIpe3ZvaWQgMD09PXImJihyPXt9KTt2YXIgdCxvPTAsdT0wLGk9MCxjPTAscz1udWxsO2Z1bmN0aW9uIGYobil7dmFyIGU9d2luZG93LlByb21pc2UmJm5ldyBQcm9taXNlKGZ1bmN0aW9uKG4pe3JldHVybiBzPW59KTtyZXR1cm4gbi5maW5pc2hlZD1lLGV9dmFyIGwsZCxwLGgsdixnLHksYix4PShkPXcobixsPXIpLHA9dyhlLGwpLGg9eihwLGwpLHY9UShsLnRhcmdldHMpLGc9Vyh2LGgpLHk9SihnLHApLGI9SyxLKyssayhkLHtpZDpiLGNoaWxkcmVuOltdLGFuaW1hdGFibGVzOnYsYW5pbWF0aW9uczpnLGR1cmF0aW9uOnkuZHVyYXRpb24sZGVsYXk6eS5kZWxheSxlbmREZWxheTp5LmVuZERlbGF5fSkpO2YoeCk7ZnVuY3Rpb24gTSgpe3ZhciBuPXguZGlyZWN0aW9uO1wiYWx0ZXJuYXRlXCIhPT1uJiYoeC5kaXJlY3Rpb249XCJub3JtYWxcIiE9PW4/XCJub3JtYWxcIjpcInJldmVyc2VcIikseC5yZXZlcnNlZD0heC5yZXZlcnNlZCx0LmZvckVhY2goZnVuY3Rpb24obil7cmV0dXJuIG4ucmV2ZXJzZWQ9eC5yZXZlcnNlZH0pfWZ1bmN0aW9uIE8obil7cmV0dXJuIHgucmV2ZXJzZWQ/eC5kdXJhdGlvbi1uOm59ZnVuY3Rpb24gQygpe289MCx1PU8oeC5jdXJyZW50VGltZSkqKDEvcm4uc3BlZWQpfWZ1bmN0aW9uIEIobixlKXtlJiZlLnNlZWsobi1lLnRpbWVsaW5lT2Zmc2V0KX1mdW5jdGlvbiBQKG4pe2Zvcih2YXIgZT0wLHI9eC5hbmltYXRpb25zLHQ9ci5sZW5ndGg7ZTx0Oyl7dmFyIG89cltlXSx1PW8uYW5pbWF0YWJsZSxpPW8udHdlZW5zLGM9aS5sZW5ndGgtMSxzPWlbY107YyYmKHM9bShpLGZ1bmN0aW9uKGUpe3JldHVybiBuPGUuZW5kfSlbMF18fHMpO2Zvcih2YXIgZj1hKG4tcy5zdGFydC1zLmRlbGF5LDAscy5kdXJhdGlvbikvcy5kdXJhdGlvbixsPWlzTmFOKGYpPzE6cy5lYXNpbmcoZiksZD1zLnRvLnN0cmluZ3MscD1zLnJvdW5kLGg9W10sdj1zLnRvLm51bWJlcnMubGVuZ3RoLGc9dm9pZCAwLHk9MDt5PHY7eSsrKXt2YXIgYj12b2lkIDAsTT1zLnRvLm51bWJlcnNbeV0sdz1zLmZyb20ubnVtYmVyc1t5XXx8MDtiPXMuaXNQYXRoP1gocy52YWx1ZSxsKk0pOncrbCooTS13KSxwJiYocy5pc0NvbG9yJiZ5PjJ8fChiPU1hdGgucm91bmQoYipwKS9wKSksaC5wdXNoKGIpfXZhciBrPWQubGVuZ3RoO2lmKGspe2c9ZFswXTtmb3IodmFyIE89MDtPPGs7TysrKXtkW09dO3ZhciBDPWRbTysxXSxCPWhbT107aXNOYU4oQil8fChnKz1DP0IrQzpCK1wiIFwiKX19ZWxzZSBnPWhbMF07R1tvLnR5cGVdKHUudGFyZ2V0LG8ucHJvcGVydHksZyx1LnRyYW5zZm9ybXMpLG8uY3VycmVudFZhbHVlPWcsZSsrfX1mdW5jdGlvbiBJKG4pe3hbbl0mJiF4LnBhc3NUaHJvdWdoJiZ4W25dKHgpfWZ1bmN0aW9uIFQobil7dmFyIGU9eC5kdXJhdGlvbixyPXguZGVsYXksbD1lLXguZW5kRGVsYXksZD1PKG4pO3gucHJvZ3Jlc3M9YShkL2UqMTAwLDAsMTAwKSx4LnJldmVyc2VQbGF5YmFjaz1kPHguY3VycmVudFRpbWUsdCYmZnVuY3Rpb24obil7aWYoeC5yZXZlcnNlUGxheWJhY2spZm9yKHZhciBlPWM7ZS0tOylCKG4sdFtlXSk7ZWxzZSBmb3IodmFyIHI9MDtyPGM7cisrKUIobix0W3JdKX0oZCksIXguYmVnYW4mJnguY3VycmVudFRpbWU+MCYmKHguYmVnYW49ITAsSShcImJlZ2luXCIpKSwheC5sb29wQmVnYW4mJnguY3VycmVudFRpbWU+MCYmKHgubG9vcEJlZ2FuPSEwLEkoXCJsb29wQmVnaW5cIikpLGQ8PXImJjAhPT14LmN1cnJlbnRUaW1lJiZQKDApLChkPj1sJiZ4LmN1cnJlbnRUaW1lIT09ZXx8IWUpJiZQKGUpLGQ+ciYmZDxsPyh4LmNoYW5nZUJlZ2FufHwoeC5jaGFuZ2VCZWdhbj0hMCx4LmNoYW5nZUNvbXBsZXRlZD0hMSxJKFwiY2hhbmdlQmVnaW5cIikpLEkoXCJjaGFuZ2VcIiksUChkKSk6eC5jaGFuZ2VCZWdhbiYmKHguY2hhbmdlQ29tcGxldGVkPSEwLHguY2hhbmdlQmVnYW49ITEsSShcImNoYW5nZUNvbXBsZXRlXCIpKSx4LmN1cnJlbnRUaW1lPWEoZCwwLGUpLHguYmVnYW4mJkkoXCJ1cGRhdGVcIiksbj49ZSYmKHU9MCx4LnJlbWFpbmluZyYmITAhPT14LnJlbWFpbmluZyYmeC5yZW1haW5pbmctLSx4LnJlbWFpbmluZz8obz1pLEkoXCJsb29wQ29tcGxldGVcIikseC5sb29wQmVnYW49ITEsXCJhbHRlcm5hdGVcIj09PXguZGlyZWN0aW9uJiZNKCkpOih4LnBhdXNlZD0hMCx4LmNvbXBsZXRlZHx8KHguY29tcGxldGVkPSEwLEkoXCJsb29wQ29tcGxldGVcIiksSShcImNvbXBsZXRlXCIpLCF4LnBhc3NUaHJvdWdoJiZcIlByb21pc2VcImluIHdpbmRvdyYmKHMoKSxmKHgpKSkpKX1yZXR1cm4geC5yZXNldD1mdW5jdGlvbigpe3ZhciBuPXguZGlyZWN0aW9uO3gucGFzc1Rocm91Z2g9ITEseC5jdXJyZW50VGltZT0wLHgucHJvZ3Jlc3M9MCx4LnBhdXNlZD0hMCx4LmJlZ2FuPSExLHgubG9vcEJlZ2FuPSExLHguY2hhbmdlQmVnYW49ITEseC5jb21wbGV0ZWQ9ITEseC5jaGFuZ2VDb21wbGV0ZWQ9ITEseC5yZXZlcnNlUGxheWJhY2s9ITEseC5yZXZlcnNlZD1cInJldmVyc2VcIj09PW4seC5yZW1haW5pbmc9eC5sb29wLHQ9eC5jaGlsZHJlbjtmb3IodmFyIGU9Yz10Lmxlbmd0aDtlLS07KXguY2hpbGRyZW5bZV0ucmVzZXQoKTsoeC5yZXZlcnNlZCYmITAhPT14Lmxvb3B8fFwiYWx0ZXJuYXRlXCI9PT1uJiYxPT09eC5sb29wKSYmeC5yZW1haW5pbmcrKyxQKHgucmV2ZXJzZWQ/eC5kdXJhdGlvbjowKX0seC5zZXQ9ZnVuY3Rpb24obixlKXtyZXR1cm4gUihuLGUpLHh9LHgudGljaz1mdW5jdGlvbihuKXtpPW4sb3x8KG89aSksVCgoaSsodS1vKSkqcm4uc3BlZWQpfSx4LnNlZWs9ZnVuY3Rpb24obil7VChPKG4pKX0seC5wYXVzZT1mdW5jdGlvbigpe3gucGF1c2VkPSEwLEMoKX0seC5wbGF5PWZ1bmN0aW9uKCl7eC5wYXVzZWQmJih4LmNvbXBsZXRlZCYmeC5yZXNldCgpLHgucGF1c2VkPSExLF8ucHVzaCh4KSxDKCksVXx8ZW4oKSl9LHgucmV2ZXJzZT1mdW5jdGlvbigpe00oKSx4LmNvbXBsZXRlZD0heC5yZXZlcnNlZCxDKCl9LHgucmVzdGFydD1mdW5jdGlvbigpe3gucmVzZXQoKSx4LnBsYXkoKX0seC5yZXNldCgpLHguYXV0b3BsYXkmJngucGxheSgpLHh9ZnVuY3Rpb24gdG4obixlKXtmb3IodmFyIHI9ZS5sZW5ndGg7ci0tOyl4KG4sZVtyXS5hbmltYXRhYmxlLnRhcmdldCkmJmUuc3BsaWNlKHIsMSl9cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGRvY3VtZW50JiZkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLGZ1bmN0aW9uKCl7ZG9jdW1lbnQuaGlkZGVuPyhfLmZvckVhY2goZnVuY3Rpb24obil7cmV0dXJuIG4ucGF1c2UoKX0pLG5uPV8uc2xpY2UoMCkscm4ucnVubmluZz1fPVtdKTpubi5mb3JFYWNoKGZ1bmN0aW9uKG4pe3JldHVybiBuLnBsYXkoKX0pfSkscm4udmVyc2lvbj1cIjMuMi4wXCIscm4uc3BlZWQ9MSxybi5ydW5uaW5nPV8scm4ucmVtb3ZlPWZ1bmN0aW9uKG4pe2Zvcih2YXIgZT1aKG4pLHI9Xy5sZW5ndGg7ci0tOyl7dmFyIHQ9X1tyXSxhPXQuYW5pbWF0aW9ucyxvPXQuY2hpbGRyZW47dG4oZSxhKTtmb3IodmFyIHU9by5sZW5ndGg7dS0tOyl7dmFyIGk9b1t1XSxjPWkuYW5pbWF0aW9uczt0bihlLGMpLGMubGVuZ3RofHxpLmNoaWxkcmVuLmxlbmd0aHx8by5zcGxpY2UodSwxKX1hLmxlbmd0aHx8by5sZW5ndGh8fHQucGF1c2UoKX19LHJuLmdldD1OLHJuLnNldD1SLHJuLmNvbnZlcnRQeD1JLHJuLnBhdGg9ZnVuY3Rpb24obixlKXt2YXIgcj1pLnN0cihuKT9nKG4pWzBdOm4sdD1lfHwxMDA7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybntwcm9wZXJ0eTpuLGVsOnIsc3ZnOiQociksdG90YWxMZW5ndGg6cShyKSoodC8xMDApfX19LHJuLnNldERhc2hvZmZzZXQ9ZnVuY3Rpb24obil7dmFyIGU9cShuKTtyZXR1cm4gbi5zZXRBdHRyaWJ1dGUoXCJzdHJva2UtZGFzaGFycmF5XCIsZSksZX0scm4uc3RhZ2dlcj1mdW5jdGlvbihuLGUpe3ZvaWQgMD09PWUmJihlPXt9KTt2YXIgcj1lLmRpcmVjdGlvbnx8XCJub3JtYWxcIix0PWUuZWFzaW5nP3YoZS5lYXNpbmcpOm51bGwsYT1lLmdyaWQsbz1lLmF4aXMsdT1lLmZyb218fDAsYz1cImZpcnN0XCI9PT11LHM9XCJjZW50ZXJcIj09PXUsZj1cImxhc3RcIj09PXUsbD1pLmFycihuKSxkPWw/cGFyc2VGbG9hdChuWzBdKTpwYXJzZUZsb2F0KG4pLHA9bD9wYXJzZUZsb2F0KG5bMV0pOjAsaD1DKGw/blsxXTpuKXx8MCxnPWUuc3RhcnR8fDArKGw/ZDowKSxtPVtdLHk9MDtyZXR1cm4gZnVuY3Rpb24obixlLGkpe2lmKGMmJih1PTApLHMmJih1PShpLTEpLzIpLGYmJih1PWktMSksIW0ubGVuZ3RoKXtmb3IodmFyIHY9MDt2PGk7disrKXtpZihhKXt2YXIgYj1zPyhhWzBdLTEpLzI6dSVhWzBdLHg9cz8oYVsxXS0xKS8yOk1hdGguZmxvb3IodS9hWzBdKSxNPWItdiVhWzBdLHc9eC1NYXRoLmZsb29yKHYvYVswXSksaz1NYXRoLnNxcnQoTSpNK3cqdyk7XCJ4XCI9PT1vJiYoaz0tTSksXCJ5XCI9PT1vJiYoaz0tdyksbS5wdXNoKGspfWVsc2UgbS5wdXNoKE1hdGguYWJzKHUtdikpO3k9TWF0aC5tYXguYXBwbHkoTWF0aCxtKX10JiYobT1tLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gdChuL3kpKnl9KSksXCJyZXZlcnNlXCI9PT1yJiYobT1tLm1hcChmdW5jdGlvbihuKXtyZXR1cm4gbz9uPDA/LTEqbjotbjpNYXRoLmFicyh5LW4pfSkpfXJldHVybiBnKyhsPyhwLWQpL3k6ZCkqKE1hdGgucm91bmQoMTAwKm1bZV0pLzEwMCkraH19LHJuLnRpbWVsaW5lPWZ1bmN0aW9uKG4pe3ZvaWQgMD09PW4mJihuPXt9KTt2YXIgcj1ybihuKTtyZXR1cm4gci5kdXJhdGlvbj0wLHIuYWRkPWZ1bmN0aW9uKHQsYSl7dmFyIG89Xy5pbmRleE9mKHIpLHU9ci5jaGlsZHJlbjtmdW5jdGlvbiBjKG4pe24ucGFzc1Rocm91Z2g9ITB9bz4tMSYmXy5zcGxpY2UobywxKTtmb3IodmFyIHM9MDtzPHUubGVuZ3RoO3MrKyljKHVbc10pO3ZhciBmPWsodCx3KGUsbikpO2YudGFyZ2V0cz1mLnRhcmdldHN8fG4udGFyZ2V0czt2YXIgbD1yLmR1cmF0aW9uO2YuYXV0b3BsYXk9ITEsZi5kaXJlY3Rpb249ci5kaXJlY3Rpb24sZi50aW1lbGluZU9mZnNldD1pLnVuZChhKT9sOkEoYSxsKSxjKHIpLHIuc2VlayhmLnRpbWVsaW5lT2Zmc2V0KTt2YXIgZD1ybihmKTtjKGQpLHUucHVzaChkKTt2YXIgcD1KKHUsbik7cmV0dXJuIHIuZGVsYXk9cC5kZWxheSxyLmVuZERlbGF5PXAuZW5kRGVsYXksci5kdXJhdGlvbj1wLmR1cmF0aW9uLHIuc2VlaygwKSxyLnJlc2V0KCksci5hdXRvcGxheSYmci5wbGF5KCkscn0scn0scm4uZWFzaW5nPXYscm4ucGVubmVyPWgscm4ucmFuZG9tPWZ1bmN0aW9uKG4sZSl7cmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSooZS1uKzEpKStufSxybn0pOyIsInZhciBGcm9vZ2Fsb29wPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdChuKXtyZXR1cm4gbmV3IHQuZm4uaW5pdChuKX12YXIgbj17fSxlPSExLHI9KEFycmF5LnByb3RvdHlwZS5zbGljZSxcIlwiKTtmdW5jdGlvbiBpKHQsbixlKXtpZighZS5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKXJldHVybiExO3ZhciByPWUuZ2V0QXR0cmlidXRlKFwic3JjXCIpLnNwbGl0KFwiP1wiKVswXSxpPUpTT04uc3RyaW5naWZ5KHttZXRob2Q6dCx2YWx1ZTpufSk7XCIvL1wiPT09ci5zdWJzdHIoMCwyKSYmKHI9d2luZG93LmxvY2F0aW9uLnByb3RvY29sK3IpLGUuY29udGVudFdpbmRvdy5wb3N0TWVzc2FnZShpLHIpfWZ1bmN0aW9uIG8odCl7dmFyIGksbzt0cnl7bz0oaT1KU09OLnBhcnNlKHQuZGF0YSkpLmV2ZW50fHxpLm1ldGhvZH1jYXRjaCh0KXt9aWYoXCJyZWFkeVwiIT1vfHxlfHwoZT0hMCksdC5vcmlnaW4hPXIpcmV0dXJuITE7aWYoIWkpcmV0dXJuITE7dmFyIGw9aS52YWx1ZSx1PWkuZGF0YSxhPVwiXCI9PT1hP251bGw6aS5wbGF5ZXJfaWQscz1mdW5jdGlvbih0LGUpe3JldHVybiBlP25bZV1bdF06blt0XX0obyxhKSxkPVtdO3JldHVybiEhcyYmKHZvaWQgMCE9PWwmJmQucHVzaChsKSx1JiZkLnB1c2godSksYSYmZC5wdXNoKGEpLGQubGVuZ3RoPjA/cy5hcHBseShudWxsLGQpOnMuY2FsbCgpKX1mdW5jdGlvbiBsKHQsZSxyKXtyPyhuW3JdfHwobltyXT17fSksbltyXVt0XT1lKTpuW3RdPWV9ZnVuY3Rpb24gdSh0KXtyZXR1cm4hISh0JiZ0LmNvbnN0cnVjdG9yJiZ0LmNhbGwmJnQuYXBwbHkpfXJldHVybiB0LmZuPXQucHJvdG90eXBlPXtlbGVtZW50Om51bGwsaW5pdDpmdW5jdGlvbih0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdCYmKHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodCkpLHRoaXMuZWxlbWVudD10LHI9ZnVuY3Rpb24odCl7XCIvL1wiPT09dC5zdWJzdHIoMCwyKSYmKHQ9d2luZG93LmxvY2F0aW9uLnByb3RvY29sK3QpO2Zvcih2YXIgbj10LnNwbGl0KFwiL1wiKSxlPVwiXCIscj0wLGk9bi5sZW5ndGg7cjxpJiZyPDM7cisrKWUrPW5bcl0scjwyJiYoZSs9XCIvXCIpO3JldHVybiBlfSh0aGlzLmVsZW1lbnQuZ2V0QXR0cmlidXRlKFwic3JjXCIpKSx0aGlzfSxhcGk6ZnVuY3Rpb24odCxuKXtpZighdGhpcy5lbGVtZW50fHwhdClyZXR1cm4hMTt2YXIgZT10aGlzLmVsZW1lbnQscj1cIlwiIT09ZS5pZD9lLmlkOm51bGwsbz11KG4pP251bGw6bixhPXUobik/bjpudWxsO3JldHVybiBhJiZsKHQsYSxyKSxpKHQsbyxlKSx0aGlzfSxhZGRFdmVudDpmdW5jdGlvbih0LG4pe2lmKCF0aGlzLmVsZW1lbnQpcmV0dXJuITE7dmFyIHI9dGhpcy5lbGVtZW50LG89XCJcIiE9PXIuaWQ/ci5pZDpudWxsO3JldHVybiBsKHQsbixvKSxcInJlYWR5XCIhPXQ/aShcImFkZEV2ZW50TGlzdGVuZXJcIix0LHIpOlwicmVhZHlcIj09dCYmZSYmbi5jYWxsKG51bGwsbyksdGhpc30scmVtb3ZlRXZlbnQ6ZnVuY3Rpb24odCl7aWYoIXRoaXMuZWxlbWVudClyZXR1cm4hMTt2YXIgZT10aGlzLmVsZW1lbnQscj1mdW5jdGlvbih0LGUpe2lmKGUmJm5bZV0pe2lmKCFuW2VdW3RdKXJldHVybiExO25bZV1bdF09bnVsbH1lbHNle2lmKCFuW3RdKXJldHVybiExO25bdF09bnVsbH1yZXR1cm4hMH0odCxcIlwiIT09ZS5pZD9lLmlkOm51bGwpO1wicmVhZHlcIiE9dCYmciYmaShcInJlbW92ZUV2ZW50TGlzdGVuZXJcIix0LGUpfX0sdC5mbi5pbml0LnByb3RvdHlwZT10LmZuLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyP3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLG8sITEpOndpbmRvdy5hdHRhY2hFdmVudChcIm9ubWVzc2FnZVwiLG8pLHdpbmRvdy5Gcm9vZ2Fsb29wPXdpbmRvdy4kZj10fSgpOyIsIi8qIVxuV2F5cG9pbnRzIC0gNC4wLjFcbkNvcHlyaWdodCDCqSAyMDExLTIwMTYgQ2FsZWIgVHJvdWdodG9uXG5MaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UuXG5odHRwczovL2dpdGh1Yi5jb20vaW1ha2V3ZWJ0aGluZ3Mvd2F5cG9pbnRzL2Jsb2IvbWFzdGVyL2xpY2Vuc2VzLnR4dFxuKi9cbiFmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQobyl7aWYoIW8pdGhyb3cgbmV3IEVycm9yKFwiTm8gb3B0aW9ucyBwYXNzZWQgdG8gV2F5cG9pbnQgY29uc3RydWN0b3JcIik7aWYoIW8uZWxlbWVudCl0aHJvdyBuZXcgRXJyb3IoXCJObyBlbGVtZW50IG9wdGlvbiBwYXNzZWQgdG8gV2F5cG9pbnQgY29uc3RydWN0b3JcIik7aWYoIW8uaGFuZGxlcil0aHJvdyBuZXcgRXJyb3IoXCJObyBoYW5kbGVyIG9wdGlvbiBwYXNzZWQgdG8gV2F5cG9pbnQgY29uc3RydWN0b3JcIik7dGhpcy5rZXk9XCJ3YXlwb2ludC1cIitlLHRoaXMub3B0aW9ucz10LkFkYXB0ZXIuZXh0ZW5kKHt9LHQuZGVmYXVsdHMsbyksdGhpcy5lbGVtZW50PXRoaXMub3B0aW9ucy5lbGVtZW50LHRoaXMuYWRhcHRlcj1uZXcgdC5BZGFwdGVyKHRoaXMuZWxlbWVudCksdGhpcy5jYWxsYmFjaz1vLmhhbmRsZXIsdGhpcy5heGlzPXRoaXMub3B0aW9ucy5ob3Jpem9udGFsP1wiaG9yaXpvbnRhbFwiOlwidmVydGljYWxcIix0aGlzLmVuYWJsZWQ9dGhpcy5vcHRpb25zLmVuYWJsZWQsdGhpcy50cmlnZ2VyUG9pbnQ9bnVsbCx0aGlzLmdyb3VwPXQuR3JvdXAuZmluZE9yQ3JlYXRlKHtuYW1lOnRoaXMub3B0aW9ucy5ncm91cCxheGlzOnRoaXMuYXhpc30pLHRoaXMuY29udGV4dD10LkNvbnRleHQuZmluZE9yQ3JlYXRlQnlFbGVtZW50KHRoaXMub3B0aW9ucy5jb250ZXh0KSx0Lm9mZnNldEFsaWFzZXNbdGhpcy5vcHRpb25zLm9mZnNldF0mJih0aGlzLm9wdGlvbnMub2Zmc2V0PXQub2Zmc2V0QWxpYXNlc1t0aGlzLm9wdGlvbnMub2Zmc2V0XSksdGhpcy5ncm91cC5hZGQodGhpcyksdGhpcy5jb250ZXh0LmFkZCh0aGlzKSxpW3RoaXMua2V5XT10aGlzLGUrPTF9dmFyIGU9MCxpPXt9O3QucHJvdG90eXBlLnF1ZXVlVHJpZ2dlcj1mdW5jdGlvbih0KXt0aGlzLmdyb3VwLnF1ZXVlVHJpZ2dlcih0aGlzLHQpfSx0LnByb3RvdHlwZS50cmlnZ2VyPWZ1bmN0aW9uKHQpe3RoaXMuZW5hYmxlZCYmdGhpcy5jYWxsYmFjayYmdGhpcy5jYWxsYmFjay5hcHBseSh0aGlzLHQpfSx0LnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5jb250ZXh0LnJlbW92ZSh0aGlzKSx0aGlzLmdyb3VwLnJlbW92ZSh0aGlzKSxkZWxldGUgaVt0aGlzLmtleV19LHQucHJvdG90eXBlLmRpc2FibGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmFibGVkPSExLHRoaXN9LHQucHJvdG90eXBlLmVuYWJsZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbnRleHQucmVmcmVzaCgpLHRoaXMuZW5hYmxlZD0hMCx0aGlzfSx0LnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ3JvdXAubmV4dCh0aGlzKX0sdC5wcm90b3R5cGUucHJldmlvdXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ncm91cC5wcmV2aW91cyh0aGlzKX0sdC5pbnZva2VBbGw9ZnVuY3Rpb24odCl7dmFyIGU9W107Zm9yKHZhciBvIGluIGkpZS5wdXNoKGlbb10pO2Zvcih2YXIgbj0wLHI9ZS5sZW5ndGg7cj5uO24rKyllW25dW3RdKCl9LHQuZGVzdHJveUFsbD1mdW5jdGlvbigpe3QuaW52b2tlQWxsKFwiZGVzdHJveVwiKX0sdC5kaXNhYmxlQWxsPWZ1bmN0aW9uKCl7dC5pbnZva2VBbGwoXCJkaXNhYmxlXCIpfSx0LmVuYWJsZUFsbD1mdW5jdGlvbigpe3QuQ29udGV4dC5yZWZyZXNoQWxsKCk7Zm9yKHZhciBlIGluIGkpaVtlXS5lbmFibGVkPSEwO3JldHVybiB0aGlzfSx0LnJlZnJlc2hBbGw9ZnVuY3Rpb24oKXt0LkNvbnRleHQucmVmcmVzaEFsbCgpfSx0LnZpZXdwb3J0SGVpZ2h0PWZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5pbm5lckhlaWdodHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodH0sdC52aWV3cG9ydFdpZHRoPWZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aH0sdC5hZGFwdGVycz1bXSx0LmRlZmF1bHRzPXtjb250ZXh0OndpbmRvdyxjb250aW51b3VzOiEwLGVuYWJsZWQ6ITAsZ3JvdXA6XCJkZWZhdWx0XCIsaG9yaXpvbnRhbDohMSxvZmZzZXQ6MH0sdC5vZmZzZXRBbGlhc2VzPXtcImJvdHRvbS1pbi12aWV3XCI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb250ZXh0LmlubmVySGVpZ2h0KCktdGhpcy5hZGFwdGVyLm91dGVySGVpZ2h0KCl9LFwicmlnaHQtaW4tdmlld1wiOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29udGV4dC5pbm5lcldpZHRoKCktdGhpcy5hZGFwdGVyLm91dGVyV2lkdGgoKX19LHdpbmRvdy5XYXlwb2ludD10fSgpLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gdCh0KXt3aW5kb3cuc2V0VGltZW91dCh0LDFlMy82MCl9ZnVuY3Rpb24gZSh0KXt0aGlzLmVsZW1lbnQ9dCx0aGlzLkFkYXB0ZXI9bi5BZGFwdGVyLHRoaXMuYWRhcHRlcj1uZXcgdGhpcy5BZGFwdGVyKHQpLHRoaXMua2V5PVwid2F5cG9pbnQtY29udGV4dC1cIitpLHRoaXMuZGlkU2Nyb2xsPSExLHRoaXMuZGlkUmVzaXplPSExLHRoaXMub2xkU2Nyb2xsPXt4OnRoaXMuYWRhcHRlci5zY3JvbGxMZWZ0KCkseTp0aGlzLmFkYXB0ZXIuc2Nyb2xsVG9wKCl9LHRoaXMud2F5cG9pbnRzPXt2ZXJ0aWNhbDp7fSxob3Jpem9udGFsOnt9fSx0LndheXBvaW50Q29udGV4dEtleT10aGlzLmtleSxvW3Qud2F5cG9pbnRDb250ZXh0S2V5XT10aGlzLGkrPTEsbi53aW5kb3dDb250ZXh0fHwobi53aW5kb3dDb250ZXh0PSEwLG4ud2luZG93Q29udGV4dD1uZXcgZSh3aW5kb3cpKSx0aGlzLmNyZWF0ZVRocm90dGxlZFNjcm9sbEhhbmRsZXIoKSx0aGlzLmNyZWF0ZVRocm90dGxlZFJlc2l6ZUhhbmRsZXIoKX12YXIgaT0wLG89e30sbj13aW5kb3cuV2F5cG9pbnQscj13aW5kb3cub25sb2FkO2UucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0KXt2YXIgZT10Lm9wdGlvbnMuaG9yaXpvbnRhbD9cImhvcml6b250YWxcIjpcInZlcnRpY2FsXCI7dGhpcy53YXlwb2ludHNbZV1bdC5rZXldPXQsdGhpcy5yZWZyZXNoKCl9LGUucHJvdG90eXBlLmNoZWNrRW1wdHk9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLkFkYXB0ZXIuaXNFbXB0eU9iamVjdCh0aGlzLndheXBvaW50cy5ob3Jpem9udGFsKSxlPXRoaXMuQWRhcHRlci5pc0VtcHR5T2JqZWN0KHRoaXMud2F5cG9pbnRzLnZlcnRpY2FsKSxpPXRoaXMuZWxlbWVudD09dGhpcy5lbGVtZW50LndpbmRvdzt0JiZlJiYhaSYmKHRoaXMuYWRhcHRlci5vZmYoXCIud2F5cG9pbnRzXCIpLGRlbGV0ZSBvW3RoaXMua2V5XSl9LGUucHJvdG90eXBlLmNyZWF0ZVRocm90dGxlZFJlc2l6ZUhhbmRsZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7ZS5oYW5kbGVSZXNpemUoKSxlLmRpZFJlc2l6ZT0hMX12YXIgZT10aGlzO3RoaXMuYWRhcHRlci5vbihcInJlc2l6ZS53YXlwb2ludHNcIixmdW5jdGlvbigpe2UuZGlkUmVzaXplfHwoZS5kaWRSZXNpemU9ITAsbi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodCkpfSl9LGUucHJvdG90eXBlLmNyZWF0ZVRocm90dGxlZFNjcm9sbEhhbmRsZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7ZS5oYW5kbGVTY3JvbGwoKSxlLmRpZFNjcm9sbD0hMX12YXIgZT10aGlzO3RoaXMuYWRhcHRlci5vbihcInNjcm9sbC53YXlwb2ludHNcIixmdW5jdGlvbigpeyghZS5kaWRTY3JvbGx8fG4uaXNUb3VjaCkmJihlLmRpZFNjcm9sbD0hMCxuLnJlcXVlc3RBbmltYXRpb25GcmFtZSh0KSl9KX0sZS5wcm90b3R5cGUuaGFuZGxlUmVzaXplPWZ1bmN0aW9uKCl7bi5Db250ZXh0LnJlZnJlc2hBbGwoKX0sZS5wcm90b3R5cGUuaGFuZGxlU2Nyb2xsPWZ1bmN0aW9uKCl7dmFyIHQ9e30sZT17aG9yaXpvbnRhbDp7bmV3U2Nyb2xsOnRoaXMuYWRhcHRlci5zY3JvbGxMZWZ0KCksb2xkU2Nyb2xsOnRoaXMub2xkU2Nyb2xsLngsZm9yd2FyZDpcInJpZ2h0XCIsYmFja3dhcmQ6XCJsZWZ0XCJ9LHZlcnRpY2FsOntuZXdTY3JvbGw6dGhpcy5hZGFwdGVyLnNjcm9sbFRvcCgpLG9sZFNjcm9sbDp0aGlzLm9sZFNjcm9sbC55LGZvcndhcmQ6XCJkb3duXCIsYmFja3dhcmQ6XCJ1cFwifX07Zm9yKHZhciBpIGluIGUpe3ZhciBvPWVbaV0sbj1vLm5ld1Njcm9sbD5vLm9sZFNjcm9sbCxyPW4/by5mb3J3YXJkOm8uYmFja3dhcmQ7Zm9yKHZhciBzIGluIHRoaXMud2F5cG9pbnRzW2ldKXt2YXIgYT10aGlzLndheXBvaW50c1tpXVtzXTtpZihudWxsIT09YS50cmlnZ2VyUG9pbnQpe3ZhciBsPW8ub2xkU2Nyb2xsPGEudHJpZ2dlclBvaW50LGg9by5uZXdTY3JvbGw+PWEudHJpZ2dlclBvaW50LHA9bCYmaCx1PSFsJiYhaDsocHx8dSkmJihhLnF1ZXVlVHJpZ2dlcihyKSx0W2EuZ3JvdXAuaWRdPWEuZ3JvdXApfX19Zm9yKHZhciBjIGluIHQpdFtjXS5mbHVzaFRyaWdnZXJzKCk7dGhpcy5vbGRTY3JvbGw9e3g6ZS5ob3Jpem9udGFsLm5ld1Njcm9sbCx5OmUudmVydGljYWwubmV3U2Nyb2xsfX0sZS5wcm90b3R5cGUuaW5uZXJIZWlnaHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50PT10aGlzLmVsZW1lbnQud2luZG93P24udmlld3BvcnRIZWlnaHQoKTp0aGlzLmFkYXB0ZXIuaW5uZXJIZWlnaHQoKX0sZS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe2RlbGV0ZSB0aGlzLndheXBvaW50c1t0LmF4aXNdW3Qua2V5XSx0aGlzLmNoZWNrRW1wdHkoKX0sZS5wcm90b3R5cGUuaW5uZXJXaWR0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnQ9PXRoaXMuZWxlbWVudC53aW5kb3c/bi52aWV3cG9ydFdpZHRoKCk6dGhpcy5hZGFwdGVyLmlubmVyV2lkdGgoKX0sZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3ZhciB0PVtdO2Zvcih2YXIgZSBpbiB0aGlzLndheXBvaW50cylmb3IodmFyIGkgaW4gdGhpcy53YXlwb2ludHNbZV0pdC5wdXNoKHRoaXMud2F5cG9pbnRzW2VdW2ldKTtmb3IodmFyIG89MCxuPXQubGVuZ3RoO24+bztvKyspdFtvXS5kZXN0cm95KCl9LGUucHJvdG90eXBlLnJlZnJlc2g9ZnVuY3Rpb24oKXt2YXIgdCxlPXRoaXMuZWxlbWVudD09dGhpcy5lbGVtZW50LndpbmRvdyxpPWU/dm9pZCAwOnRoaXMuYWRhcHRlci5vZmZzZXQoKSxvPXt9O3RoaXMuaGFuZGxlU2Nyb2xsKCksdD17aG9yaXpvbnRhbDp7Y29udGV4dE9mZnNldDplPzA6aS5sZWZ0LGNvbnRleHRTY3JvbGw6ZT8wOnRoaXMub2xkU2Nyb2xsLngsY29udGV4dERpbWVuc2lvbjp0aGlzLmlubmVyV2lkdGgoKSxvbGRTY3JvbGw6dGhpcy5vbGRTY3JvbGwueCxmb3J3YXJkOlwicmlnaHRcIixiYWNrd2FyZDpcImxlZnRcIixvZmZzZXRQcm9wOlwibGVmdFwifSx2ZXJ0aWNhbDp7Y29udGV4dE9mZnNldDplPzA6aS50b3AsY29udGV4dFNjcm9sbDplPzA6dGhpcy5vbGRTY3JvbGwueSxjb250ZXh0RGltZW5zaW9uOnRoaXMuaW5uZXJIZWlnaHQoKSxvbGRTY3JvbGw6dGhpcy5vbGRTY3JvbGwueSxmb3J3YXJkOlwiZG93blwiLGJhY2t3YXJkOlwidXBcIixvZmZzZXRQcm9wOlwidG9wXCJ9fTtmb3IodmFyIHIgaW4gdCl7dmFyIHM9dFtyXTtmb3IodmFyIGEgaW4gdGhpcy53YXlwb2ludHNbcl0pe3ZhciBsLGgscCx1LGMsZD10aGlzLndheXBvaW50c1tyXVthXSxmPWQub3B0aW9ucy5vZmZzZXQsdz1kLnRyaWdnZXJQb2ludCx5PTAsZz1udWxsPT13O2QuZWxlbWVudCE9PWQuZWxlbWVudC53aW5kb3cmJih5PWQuYWRhcHRlci5vZmZzZXQoKVtzLm9mZnNldFByb3BdKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBmP2Y9Zi5hcHBseShkKTpcInN0cmluZ1wiPT10eXBlb2YgZiYmKGY9cGFyc2VGbG9hdChmKSxkLm9wdGlvbnMub2Zmc2V0LmluZGV4T2YoXCIlXCIpPi0xJiYoZj1NYXRoLmNlaWwocy5jb250ZXh0RGltZW5zaW9uKmYvMTAwKSkpLGw9cy5jb250ZXh0U2Nyb2xsLXMuY29udGV4dE9mZnNldCxkLnRyaWdnZXJQb2ludD1NYXRoLmZsb29yKHkrbC1mKSxoPXc8cy5vbGRTY3JvbGwscD1kLnRyaWdnZXJQb2ludD49cy5vbGRTY3JvbGwsdT1oJiZwLGM9IWgmJiFwLCFnJiZ1PyhkLnF1ZXVlVHJpZ2dlcihzLmJhY2t3YXJkKSxvW2QuZ3JvdXAuaWRdPWQuZ3JvdXApOiFnJiZjPyhkLnF1ZXVlVHJpZ2dlcihzLmZvcndhcmQpLG9bZC5ncm91cC5pZF09ZC5ncm91cCk6ZyYmcy5vbGRTY3JvbGw+PWQudHJpZ2dlclBvaW50JiYoZC5xdWV1ZVRyaWdnZXIocy5mb3J3YXJkKSxvW2QuZ3JvdXAuaWRdPWQuZ3JvdXApfX1yZXR1cm4gbi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gbylvW3RdLmZsdXNoVHJpZ2dlcnMoKX0pLHRoaXN9LGUuZmluZE9yQ3JlYXRlQnlFbGVtZW50PWZ1bmN0aW9uKHQpe3JldHVybiBlLmZpbmRCeUVsZW1lbnQodCl8fG5ldyBlKHQpfSxlLnJlZnJlc2hBbGw9ZnVuY3Rpb24oKXtmb3IodmFyIHQgaW4gbylvW3RdLnJlZnJlc2goKX0sZS5maW5kQnlFbGVtZW50PWZ1bmN0aW9uKHQpe3JldHVybiBvW3Qud2F5cG9pbnRDb250ZXh0S2V5XX0sd2luZG93Lm9ubG9hZD1mdW5jdGlvbigpe3ImJnIoKSxlLnJlZnJlc2hBbGwoKX0sbi5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU9ZnVuY3Rpb24oZSl7dmFyIGk9d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZXx8d2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8dDtpLmNhbGwod2luZG93LGUpfSxuLkNvbnRleHQ9ZX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQodCxlKXtyZXR1cm4gdC50cmlnZ2VyUG9pbnQtZS50cmlnZ2VyUG9pbnR9ZnVuY3Rpb24gZSh0LGUpe3JldHVybiBlLnRyaWdnZXJQb2ludC10LnRyaWdnZXJQb2ludH1mdW5jdGlvbiBpKHQpe3RoaXMubmFtZT10Lm5hbWUsdGhpcy5heGlzPXQuYXhpcyx0aGlzLmlkPXRoaXMubmFtZStcIi1cIit0aGlzLmF4aXMsdGhpcy53YXlwb2ludHM9W10sdGhpcy5jbGVhclRyaWdnZXJRdWV1ZXMoKSxvW3RoaXMuYXhpc11bdGhpcy5uYW1lXT10aGlzfXZhciBvPXt2ZXJ0aWNhbDp7fSxob3Jpem9udGFsOnt9fSxuPXdpbmRvdy5XYXlwb2ludDtpLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24odCl7dGhpcy53YXlwb2ludHMucHVzaCh0KX0saS5wcm90b3R5cGUuY2xlYXJUcmlnZ2VyUXVldWVzPWZ1bmN0aW9uKCl7dGhpcy50cmlnZ2VyUXVldWVzPXt1cDpbXSxkb3duOltdLGxlZnQ6W10scmlnaHQ6W119fSxpLnByb3RvdHlwZS5mbHVzaFRyaWdnZXJzPWZ1bmN0aW9uKCl7Zm9yKHZhciBpIGluIHRoaXMudHJpZ2dlclF1ZXVlcyl7dmFyIG89dGhpcy50cmlnZ2VyUXVldWVzW2ldLG49XCJ1cFwiPT09aXx8XCJsZWZ0XCI9PT1pO28uc29ydChuP2U6dCk7Zm9yKHZhciByPTAscz1vLmxlbmd0aDtzPnI7cis9MSl7dmFyIGE9b1tyXTsoYS5vcHRpb25zLmNvbnRpbnVvdXN8fHI9PT1vLmxlbmd0aC0xKSYmYS50cmlnZ2VyKFtpXSl9fXRoaXMuY2xlYXJUcmlnZ2VyUXVldWVzKCl9LGkucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24oZSl7dGhpcy53YXlwb2ludHMuc29ydCh0KTt2YXIgaT1uLkFkYXB0ZXIuaW5BcnJheShlLHRoaXMud2F5cG9pbnRzKSxvPWk9PT10aGlzLndheXBvaW50cy5sZW5ndGgtMTtyZXR1cm4gbz9udWxsOnRoaXMud2F5cG9pbnRzW2krMV19LGkucHJvdG90eXBlLnByZXZpb3VzPWZ1bmN0aW9uKGUpe3RoaXMud2F5cG9pbnRzLnNvcnQodCk7dmFyIGk9bi5BZGFwdGVyLmluQXJyYXkoZSx0aGlzLndheXBvaW50cyk7cmV0dXJuIGk/dGhpcy53YXlwb2ludHNbaS0xXTpudWxsfSxpLnByb3RvdHlwZS5xdWV1ZVRyaWdnZXI9ZnVuY3Rpb24odCxlKXt0aGlzLnRyaWdnZXJRdWV1ZXNbZV0ucHVzaCh0KX0saS5wcm90b3R5cGUucmVtb3ZlPWZ1bmN0aW9uKHQpe3ZhciBlPW4uQWRhcHRlci5pbkFycmF5KHQsdGhpcy53YXlwb2ludHMpO2U+LTEmJnRoaXMud2F5cG9pbnRzLnNwbGljZShlLDEpfSxpLnByb3RvdHlwZS5maXJzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLndheXBvaW50c1swXX0saS5wcm90b3R5cGUubGFzdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLndheXBvaW50c1t0aGlzLndheXBvaW50cy5sZW5ndGgtMV19LGkuZmluZE9yQ3JlYXRlPWZ1bmN0aW9uKHQpe3JldHVybiBvW3QuYXhpc11bdC5uYW1lXXx8bmV3IGkodCl9LG4uR3JvdXA9aX0oKSxmdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHQodCl7dGhpcy4kZWxlbWVudD1lKHQpfXZhciBlPXdpbmRvdy5qUXVlcnksaT13aW5kb3cuV2F5cG9pbnQ7ZS5lYWNoKFtcImlubmVySGVpZ2h0XCIsXCJpbm5lcldpZHRoXCIsXCJvZmZcIixcIm9mZnNldFwiLFwib25cIixcIm91dGVySGVpZ2h0XCIsXCJvdXRlcldpZHRoXCIsXCJzY3JvbGxMZWZ0XCIsXCJzY3JvbGxUb3BcIl0sZnVuY3Rpb24oZSxpKXt0LnByb3RvdHlwZVtpXT1mdW5jdGlvbigpe3ZhciB0PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMuJGVsZW1lbnRbaV0uYXBwbHkodGhpcy4kZWxlbWVudCx0KX19KSxlLmVhY2goW1wiZXh0ZW5kXCIsXCJpbkFycmF5XCIsXCJpc0VtcHR5T2JqZWN0XCJdLGZ1bmN0aW9uKGksbyl7dFtvXT1lW29dfSksaS5hZGFwdGVycy5wdXNoKHtuYW1lOlwianF1ZXJ5XCIsQWRhcHRlcjp0fSksaS5BZGFwdGVyPXR9KCksZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KHQpe3JldHVybiBmdW5jdGlvbigpe3ZhciBpPVtdLG89YXJndW1lbnRzWzBdO3JldHVybiB0LmlzRnVuY3Rpb24oYXJndW1lbnRzWzBdKSYmKG89dC5leHRlbmQoe30sYXJndW1lbnRzWzFdKSxvLmhhbmRsZXI9YXJndW1lbnRzWzBdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgbj10LmV4dGVuZCh7fSxvLHtlbGVtZW50OnRoaXN9KTtcInN0cmluZ1wiPT10eXBlb2Ygbi5jb250ZXh0JiYobi5jb250ZXh0PXQodGhpcykuY2xvc2VzdChuLmNvbnRleHQpWzBdKSxpLnB1c2gobmV3IGUobikpfSksaX19dmFyIGU9d2luZG93LldheXBvaW50O3dpbmRvdy5qUXVlcnkmJih3aW5kb3cualF1ZXJ5LmZuLndheXBvaW50PXQod2luZG93LmpRdWVyeSkpLHdpbmRvdy5aZXB0byYmKHdpbmRvdy5aZXB0by5mbi53YXlwb2ludD10KHdpbmRvdy5aZXB0bykpfSgpOyIsIi8qKlxuICogU3R5bGVGaXggMS4wLjMgJiBQcmVmaXhGcmVlIDEuMC43XG4gKiBAYXV0aG9yIExlYSBWZXJvdVxuICogTUlUIGxpY2Vuc2VcbiAqL1xuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gbShhLGIpe3JldHVybltdLnNsaWNlLmNhbGwoKGJ8fGRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKGEpKX1pZih3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcil7dmFyIGU9d2luZG93LlN0eWxlRml4PXtsaW5rOmZ1bmN0aW9uKGEpe3ZhciBiPWEuaHJlZnx8YS5nZXRBdHRyaWJ1dGUoXCJkYXRhLWhyZWZcIik7dHJ5e2lmKCFifHxcInN0eWxlc2hlZXRcIiE9PWEucmVsfHxhLmhhc0F0dHJpYnV0ZShcImRhdGEtbm9wcmVmaXhcIikpcmV0dXJufWNhdGNoKHApe3JldHVybn12YXIgZD1iLnJlcGxhY2UoL1teXFwvXSskLyxcIlwiKSxmPSgvXlthLXpdezMsMTB9Oi8uZXhlYyhkKXx8W1wiXCJdKVswXSxoPSgvXlthLXpdezMsMTB9OlxcL1xcL1teXFwvXSsvLmV4ZWMoZCl8fFtcIlwiXSlbMF0saz0vXihbXj9dKilcXD8/Ly5leGVjKGIpWzFdLGc9YS5wYXJlbnROb2RlLGM9bmV3IFhNTEh0dHBSZXF1ZXN0LGw7Yy5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXs0PT09Yy5yZWFkeVN0YXRlJiZcbiAgICBsKCl9O2w9ZnVuY3Rpb24oKXt2YXIgYj1jLnJlc3BvbnNlVGV4dDtpZihiJiZhLnBhcmVudE5vZGUmJighYy5zdGF0dXN8fDQwMD5jLnN0YXR1c3x8NjAwPGMuc3RhdHVzKSl7aWYoKGI9ZS5maXgoYiwhMCxhKSkmJmQpdmFyIGI9Yi5yZXBsYWNlKC91cmxcXChcXHMqPygoPzpcInwnKT8pKC4rPylcXDFcXHMqP1xcKS9naSxmdW5jdGlvbihiLGEsYyl7cmV0dXJuL14oW2Etel17MywxMH06fCMpL2kudGVzdChjKT9iOi9eXFwvXFwvLy50ZXN0KGMpPyd1cmwoXCInK2YrYysnXCIpJzovXlxcLy8udGVzdChjKT8ndXJsKFwiJytoK2MrJ1wiKSc6L15cXD8vLnRlc3QoYyk/J3VybChcIicraytjKydcIiknOid1cmwoXCInK2QrYysnXCIpJ30pLG49ZC5yZXBsYWNlKC8oW1xcXFxcXF5cXCQqK1tcXF0/e30uPSE6KHwpXSkvZyxcIlxcXFwkMVwiKSxiPWIucmVwbGFjZShSZWdFeHAoXCJcXFxcYihiZWhhdmlvcjpcXFxccyo/dXJsXFxcXCgnP1xcXCI/KVwiK24sXCJnaVwiKSxcIiQxXCIpO249ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO24udGV4dENvbnRlbnQ9XG4gICAgXCIvKiMgc291cmNlVVJMPVwiK2EuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKStcIiAqL1xcbi8qQCBzb3VyY2VVUkw9XCIrYS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpK1wiICovXFxuXCIrYjtuLm1lZGlhPWEubWVkaWE7bi5kaXNhYmxlZD1hLmRpc2FibGVkO24uc2V0QXR0cmlidXRlKFwiZGF0YS1ocmVmXCIsYS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpKTthLmlkJiYobi5pZD1hLmlkKTtnLmluc2VydEJlZm9yZShuLGEpO2cucmVtb3ZlQ2hpbGQoYSk7bi5tZWRpYT1hLm1lZGlhfX07dHJ5e2Mub3BlbihcIkdFVFwiLGIpLGMuc2VuZChudWxsKX1jYXRjaChwKXtcInVuZGVmaW5lZFwiIT10eXBlb2YgWERvbWFpblJlcXVlc3QmJihjPW5ldyBYRG9tYWluUmVxdWVzdCxjLm9uZXJyb3I9Yy5vbnByb2dyZXNzPWZ1bmN0aW9uKCl7fSxjLm9ubG9hZD1sLGMub3BlbihcIkdFVFwiLGIpLGMuc2VuZChudWxsKSl9YS5zZXRBdHRyaWJ1dGUoXCJkYXRhLWlucHJvZ3Jlc3NcIixcIlwiKX0sc3R5bGVFbGVtZW50OmZ1bmN0aW9uKGEpe2lmKCFhLmhhc0F0dHJpYnV0ZShcImRhdGEtbm9wcmVmaXhcIikpe3ZhciBiPVxuICAgIGEuZGlzYWJsZWQ7YS50ZXh0Q29udGVudD1lLmZpeChhLnRleHRDb250ZW50LCEwLGEpO2EuZGlzYWJsZWQ9Yn19LHN0eWxlQXR0cmlidXRlOmZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0QXR0cmlidXRlKFwic3R5bGVcIiksYj1lLmZpeChiLCExLGEpO2Euc2V0QXR0cmlidXRlKFwic3R5bGVcIixiKX0scHJvY2VzczpmdW5jdGlvbigpe20oJ2xpbmtbcmVsPVwic3R5bGVzaGVldFwiXTpub3QoW2RhdGEtaW5wcm9ncmVzc10pJykuZm9yRWFjaChTdHlsZUZpeC5saW5rKTttKFwic3R5bGVcIikuZm9yRWFjaChTdHlsZUZpeC5zdHlsZUVsZW1lbnQpO20oXCJbc3R5bGVdXCIpLmZvckVhY2goU3R5bGVGaXguc3R5bGVBdHRyaWJ1dGUpfSxyZWdpc3RlcjpmdW5jdGlvbihhLGIpeyhlLmZpeGVycz1lLmZpeGVyc3x8W10pLnNwbGljZSh2b2lkIDA9PT1iP2UuZml4ZXJzLmxlbmd0aDpiLDAsYSl9LGZpeDpmdW5jdGlvbihhLGIsZCl7aWYoZS5maXhlcnMpZm9yKHZhciBmPTA7ZjxlLmZpeGVycy5sZW5ndGg7ZisrKWE9XG4gICAgZS5maXhlcnNbZl0oYSxiLGQpfHxhO3JldHVybiBhfSxjYW1lbENhc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvLShbYS16XSkvZyxmdW5jdGlvbihiLGEpe3JldHVybiBhLnRvVXBwZXJDYXNlKCl9KS5yZXBsYWNlKFwiLVwiLFwiXCIpfSxkZUNhbWVsQ2FzZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9bQS1aXS9nLGZ1bmN0aW9uKGIpe3JldHVyblwiLVwiK2IudG9Mb3dlckNhc2UoKX0pfX07KGZ1bmN0aW9uKCl7c2V0VGltZW91dChmdW5jdGlvbigpe20oJ2xpbmtbcmVsPVwic3R5bGVzaGVldFwiXScpLmZvckVhY2goU3R5bGVGaXgubGluayl9LDEwKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLFN0eWxlRml4LnByb2Nlc3MsITEpfSkoKX19KSgpO1xuICAgIChmdW5jdGlvbihtKXtmdW5jdGlvbiBlKGIsZCxmLGgsayl7Yj1hW2JdO2IubGVuZ3RoJiYoYj1SZWdFeHAoZCtcIihcIitiLmpvaW4oXCJ8XCIpK1wiKVwiK2YsXCJnaVwiKSxrPWsucmVwbGFjZShiLGgpKTtyZXR1cm4ga31pZih3aW5kb3cuU3R5bGVGaXgmJndpbmRvdy5nZXRDb21wdXRlZFN0eWxlKXt2YXIgYT13aW5kb3cuUHJlZml4RnJlZT17cHJlZml4Q1NTOmZ1bmN0aW9uKGIsZCxmKXt2YXIgaD1hLnByZWZpeDstMTxhLmZ1bmN0aW9ucy5pbmRleE9mKFwibGluZWFyLWdyYWRpZW50XCIpJiYoYj1iLnJlcGxhY2UoLyhcXHN8OnwsKShyZXBlYXRpbmctKT9saW5lYXItZ3JhZGllbnRcXChcXHMqKC0/XFxkKlxcLj9cXGQqKWRlZy9pZyxmdW5jdGlvbihiLGEsZCxmKXtyZXR1cm4gYSsoZHx8XCJcIikrXCJsaW5lYXItZ3JhZGllbnQoXCIrKDkwLWYpK1wiZGVnXCJ9KSk7Yj1lKFwiZnVuY3Rpb25zXCIsXCIoXFxcXHN8OnwsKVwiLFwiXFxcXHMqXFxcXChcIixcIiQxXCIraCtcIiQyKFwiLGIpO2I9ZShcImtleXdvcmRzXCIsXCIoXFxcXHN8OilcIixcIihcXFxcc3w7fFxcXFx9fCQpXCIsXG4gICAgXCIkMVwiK2grXCIkMiQzXCIsYik7Yj1lKFwicHJvcGVydGllc1wiLFwiKF58XFxcXHt8XFxcXHN8OylcIixcIlxcXFxzKjpcIixcIiQxXCIraCtcIiQyOlwiLGIpO2lmKGEucHJvcGVydGllcy5sZW5ndGgpe3ZhciBrPVJlZ0V4cChcIlxcXFxiKFwiK2EucHJvcGVydGllcy5qb2luKFwifFwiKStcIikoPyE6KVwiLFwiZ2lcIik7Yj1lKFwidmFsdWVQcm9wZXJ0aWVzXCIsXCJcXFxcYlwiLFwiOiguKz8pO1wiLGZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoayxoK1wiJDFcIil9LGIpfWQmJihiPWUoXCJzZWxlY3RvcnNcIixcIlwiLFwiXFxcXGJcIixhLnByZWZpeFNlbGVjdG9yLGIpLGI9ZShcImF0cnVsZXNcIixcIkBcIixcIlxcXFxiXCIsXCJAXCIraCtcIiQxXCIsYikpO2I9Yi5yZXBsYWNlKFJlZ0V4cChcIi1cIitoLFwiZ1wiKSxcIi1cIik7cmV0dXJuIGI9Yi5yZXBsYWNlKC8tXFwqLSg/PVthLXpdKykvZ2ksYS5wcmVmaXgpfSxwcm9wZXJ0eTpmdW5jdGlvbihiKXtyZXR1cm4oMDw9YS5wcm9wZXJ0aWVzLmluZGV4T2YoYik/YS5wcmVmaXg6XCJcIikrYn0sdmFsdWU6ZnVuY3Rpb24oYixkKXtiPVxuICAgIGUoXCJmdW5jdGlvbnNcIixcIihefFxcXFxzfCwpXCIsXCJcXFxccypcXFxcKFwiLFwiJDFcIithLnByZWZpeCtcIiQyKFwiLGIpO2I9ZShcImtleXdvcmRzXCIsXCIoXnxcXFxccylcIixcIihcXFxcc3wkKVwiLFwiJDFcIithLnByZWZpeCtcIiQyJDNcIixiKTswPD1hLnZhbHVlUHJvcGVydGllcy5pbmRleE9mKGQpJiYoYj1lKFwicHJvcGVydGllc1wiLFwiKF58XFxcXHN8LClcIixcIigkfFxcXFxzfCwpXCIsXCIkMVwiK2EucHJlZml4K1wiJDIkM1wiLGIpKTtyZXR1cm4gYn0scHJlZml4U2VsZWN0b3I6ZnVuY3Rpb24oYil7cmV0dXJuIGEuc2VsZWN0b3JNYXBbYl18fGJ9LHByZWZpeFByb3BlcnR5OmZ1bmN0aW9uKGIsZCl7dmFyIGY9YS5wcmVmaXgrYjtyZXR1cm4gZD9TdHlsZUZpeC5jYW1lbENhc2UoZik6Zn19OyhmdW5jdGlvbigpe3ZhciBiPXt9LGQ9W10sZj1nZXRDb21wdXRlZFN0eWxlKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxudWxsKSxoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikuc3R5bGUsaz1mdW5jdGlvbihhKXtpZihcIi1cIj09PVxuICAgIGEuY2hhckF0KDApKXtkLnB1c2goYSk7YT1hLnNwbGl0KFwiLVwiKTt2YXIgYz1hWzFdO2ZvcihiW2NdPSsrYltjXXx8MTszPGEubGVuZ3RoOylhLnBvcCgpLGM9YS5qb2luKFwiLVwiKSxTdHlsZUZpeC5jYW1lbENhc2UoYylpbiBoJiYtMT09PWQuaW5kZXhPZihjKSYmZC5wdXNoKGMpfX07aWYoZiYmMDxmLmxlbmd0aClmb3IodmFyIGc9MDtnPGYubGVuZ3RoO2crKylrKGZbZ10pO2Vsc2UgZm9yKHZhciBjIGluIGYpayhTdHlsZUZpeC5kZUNhbWVsQ2FzZShjKSk7dmFyIGc9MCxlLHA7Zm9yKHAgaW4gYilmPWJbcF0sZzxmJiYoZT1wLGc9Zik7YS5wcmVmaXg9XCItXCIrZStcIi1cIjthLlByZWZpeD1TdHlsZUZpeC5jYW1lbENhc2UoYS5wcmVmaXgpO2EucHJvcGVydGllcz1bXTtmb3IoZz0wO2c8ZC5sZW5ndGg7ZysrKWM9ZFtnXSwwPT09Yy5pbmRleE9mKGEucHJlZml4KSYmKGU9Yy5zbGljZShhLnByZWZpeC5sZW5ndGgpLFN0eWxlRml4LmNhbWVsQ2FzZShlKWluIGh8fGEucHJvcGVydGllcy5wdXNoKGUpKTtcbiAgICAhKFwiTXNcIiE9YS5QcmVmaXh8fFwidHJhbnNmb3JtXCJpbiBofHxcIk1zVHJhbnNmb3JtXCJpbiBoKSYmXCJtc1RyYW5zZm9ybVwiaW4gaCYmYS5wcm9wZXJ0aWVzLnB1c2goXCJ0cmFuc2Zvcm1cIixcInRyYW5zZm9ybS1vcmlnaW5cIik7YS5wcm9wZXJ0aWVzLnNvcnQoKX0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihhLGIpe2VbYl09XCJcIjtlW2JdPWE7cmV0dXJuISFlW2JdfXZhciBkPXtcImxpbmVhci1ncmFkaWVudFwiOntwcm9wZXJ0eTpcImJhY2tncm91bmRJbWFnZVwiLHBhcmFtczpcInJlZCwgdGVhbFwifSxjYWxjOntwcm9wZXJ0eTpcIndpZHRoXCIscGFyYW1zOlwiMXB4ICsgNSVcIn0sZWxlbWVudDp7cHJvcGVydHk6XCJiYWNrZ3JvdW5kSW1hZ2VcIixwYXJhbXM6XCIjZm9vXCJ9LFwiY3Jvc3MtZmFkZVwiOntwcm9wZXJ0eTpcImJhY2tncm91bmRJbWFnZVwiLHBhcmFtczpcInVybChhLnBuZyksIHVybChiLnBuZyksIDUwJVwifSxcImltYWdlLXNldFwiOntwcm9wZXJ0eTpcImJhY2tncm91bmRJbWFnZVwiLHBhcmFtczpcInVybChhLnBuZykgMXgsIHVybChiLnBuZykgMnhcIn19O1xuICAgIGRbXCJyZXBlYXRpbmctbGluZWFyLWdyYWRpZW50XCJdPWRbXCJyZXBlYXRpbmctcmFkaWFsLWdyYWRpZW50XCJdPWRbXCJyYWRpYWwtZ3JhZGllbnRcIl09ZFtcImxpbmVhci1ncmFkaWVudFwiXTt2YXIgZj17aW5pdGlhbDpcImNvbG9yXCIsZ3JhYjpcImN1cnNvclwiLGdyYWJiaW5nOlwiY3Vyc29yXCIsXCJ6b29tLWluXCI6XCJjdXJzb3JcIixcInpvb20tb3V0XCI6XCJjdXJzb3JcIixib3g6XCJkaXNwbGF5XCIsZmxleGJveDpcImRpc3BsYXlcIixcImlubGluZS1mbGV4Ym94XCI6XCJkaXNwbGF5XCIsZmxleDpcImRpc3BsYXlcIixcImlubGluZS1mbGV4XCI6XCJkaXNwbGF5XCIsZ3JpZDpcImRpc3BsYXlcIixcImlubGluZS1ncmlkXCI6XCJkaXNwbGF5XCIsXCJtYXgtY29udGVudFwiOlwid2lkdGhcIixcIm1pbi1jb250ZW50XCI6XCJ3aWR0aFwiLFwiZml0LWNvbnRlbnRcIjpcIndpZHRoXCIsXCJmaWxsLWF2YWlsYWJsZVwiOlwid2lkdGhcIixcImNvbnRhaW4tZmxvYXRzXCI6XCJ3aWR0aFwifTthLmZ1bmN0aW9ucz1bXTthLmtleXdvcmRzPVtdO3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikuc3R5bGUsXG4gICAgaztmb3IoayBpbiBkKXt2YXIgZz1kW2tdLGM9Zy5wcm9wZXJ0eSxnPWsrXCIoXCIrZy5wYXJhbXMrXCIpXCI7IWIoZyxjKSYmYihhLnByZWZpeCtnLGMpJiZhLmZ1bmN0aW9ucy5wdXNoKGspfWZvcih2YXIgbCBpbiBmKWM9ZltsXSwhYihsLGMpJiZiKGEucHJlZml4K2wsYykmJmEua2V5d29yZHMucHVzaChsKX0pKCk7KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihhKXtoLnRleHRDb250ZW50PWErXCJ7fVwiO3JldHVybiEhaC5zaGVldC5jc3NSdWxlcy5sZW5ndGh9dmFyIGQ9e1wiOmFueS1saW5rXCI6bnVsbCxcIjo6YmFja2Ryb3BcIjpudWxsLFwiOmZ1bGxzY3JlZW5cIjpudWxsLFwiOmZ1bGwtc2NyZWVuXCI6XCI6ZnVsbHNjcmVlblwiLFwiOjpwbGFjZWhvbGRlclwiOm51bGwsXCI6cGxhY2Vob2xkZXJcIjpcIjo6cGxhY2Vob2xkZXJcIixcIjo6aW5wdXQtcGxhY2Vob2xkZXJcIjpcIjo6cGxhY2Vob2xkZXJcIixcIjppbnB1dC1wbGFjZWhvbGRlclwiOlwiOjpwbGFjZWhvbGRlclwiLFwiOnJlYWQtb25seVwiOm51bGwsXCI6cmVhZC13cml0ZVwiOm51bGwsXG4gICAgXCI6OnNlbGVjdGlvblwiOm51bGx9LGU9e2tleWZyYW1lczpcIm5hbWVcIix2aWV3cG9ydDpudWxsLGRvY3VtZW50OidyZWdleHAoXCIuXCIpJ307YS5zZWxlY3RvcnM9W107YS5zZWxlY3Rvck1hcD17fTthLmF0cnVsZXM9W107dmFyIGg9bS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIikpLGs7Zm9yKGsgaW4gZCl7dmFyIGc9ZFtrXXx8ayxjPWsucmVwbGFjZSgvOjo/LyxmdW5jdGlvbihiKXtyZXR1cm4gYithLnByZWZpeH0pOyFiKGcpJiZiKGMpJiYoYS5zZWxlY3RvcnMucHVzaChnKSxhLnNlbGVjdG9yTWFwW2ddPWMpfWZvcih2YXIgbCBpbiBlKWQ9bCtcIiBcIisoZVtsXXx8XCJcIiksIWIoXCJAXCIrZCkmJmIoXCJAXCIrYS5wcmVmaXgrZCkmJmEuYXRydWxlcy5wdXNoKGwpO20ucmVtb3ZlQ2hpbGQoaCl9KSgpO2EudmFsdWVQcm9wZXJ0aWVzPVtcInRyYW5zaXRpb25cIixcInRyYW5zaXRpb24tcHJvcGVydHlcIixcIndpbGwtY2hhbmdlXCJdO20uY2xhc3NOYW1lKz1cIiBcIithLnByZWZpeDtcbiAgICBTdHlsZUZpeC5yZWdpc3RlcihhLnByZWZpeENTUyl9fSkoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KTtcblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTGF6eUxvYWRcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXG52YXIgX2V4dGVuZHM9T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTE7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKyl7dmFyIG49YXJndW1lbnRzW2VdO2Zvcih2YXIgbyBpbiBuKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuLG8pJiYodFtvXT1uW29dKX1yZXR1cm4gdH0sX3R5cGVvZj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fTshZnVuY3Rpb24odCxlKXtcIm9iamVjdFwiPT09KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBleHBvcnRzP1widW5kZWZpbmVkXCI6X3R5cGVvZihleHBvcnRzKSkmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZSgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoZSk6dC5MYXp5TG9hZD1lKCl9KHRoaXMsZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiB0KHQsZSxuKXt2YXIgbz1lLl9zZXR0aW5nczshbiYmaSh0KXx8KEMoby5jYWxsYmFja19lbnRlcix0KSxSLmluZGV4T2YodC50YWdOYW1lKT4tMSYmKE4odCxlKSxJKHQsby5jbGFzc19sb2FkaW5nKSksRSh0LGUpLGEodCksQyhvLmNhbGxiYWNrX3NldCx0KSl9dmFyIGU9e2VsZW1lbnRzX3NlbGVjdG9yOlwiaW1nXCIsY29udGFpbmVyOmRvY3VtZW50LHRocmVzaG9sZDozMDAsdGhyZXNob2xkczpudWxsLGRhdGFfc3JjOlwic3JjXCIsZGF0YV9zcmNzZXQ6XCJzcmNzZXRcIixkYXRhX3NpemVzOlwic2l6ZXNcIixkYXRhX2JnOlwiYmdcIixjbGFzc19sb2FkaW5nOlwibG9hZGluZ1wiLGNsYXNzX2xvYWRlZDpcImxvYWRlZFwiLGNsYXNzX2Vycm9yOlwiZXJyb3JcIixsb2FkX2RlbGF5OjAsY2FsbGJhY2tfbG9hZDpudWxsLGNhbGxiYWNrX2Vycm9yOm51bGwsY2FsbGJhY2tfc2V0Om51bGwsY2FsbGJhY2tfZW50ZXI6bnVsbCxjYWxsYmFja19maW5pc2g6bnVsbCx0b193ZWJwOiExfSxuPWZ1bmN0aW9uKHQpe3JldHVybiBfZXh0ZW5kcyh7fSxlLHQpfSxvPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuZ2V0QXR0cmlidXRlKFwiZGF0YS1cIitlKX0scj1mdW5jdGlvbih0LGUsbil7dmFyIG89XCJkYXRhLVwiK2U7bnVsbCE9PW4/dC5zZXRBdHRyaWJ1dGUobyxuKTp0LnJlbW92ZUF0dHJpYnV0ZShvKX0sYT1mdW5jdGlvbih0KXtyZXR1cm4gcih0LFwid2FzLXByb2Nlc3NlZFwiLFwidHJ1ZVwiKX0saT1mdW5jdGlvbih0KXtyZXR1cm5cInRydWVcIj09PW8odCxcIndhcy1wcm9jZXNzZWRcIil9LHM9ZnVuY3Rpb24odCxlKXtyZXR1cm4gcih0LFwibGwtdGltZW91dFwiLGUpfSxjPWZ1bmN0aW9uKHQpe3JldHVybiBvKHQsXCJsbC10aW1lb3V0XCIpfSxsPWZ1bmN0aW9uKHQpe3JldHVybiB0LmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4haSh0KX0pfSx1PWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiB0IT09ZX0pfSxkPWZ1bmN0aW9uKHQsZSl7dmFyIG4sbz1uZXcgdChlKTt0cnl7bj1uZXcgQ3VzdG9tRXZlbnQoXCJMYXp5TG9hZDo6SW5pdGlhbGl6ZWRcIix7ZGV0YWlsOntpbnN0YW5jZTpvfX0pfWNhdGNoKHQpeyhuPWRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiQ3VzdG9tRXZlbnRcIikpLmluaXRDdXN0b21FdmVudChcIkxhenlMb2FkOjpJbml0aWFsaXplZFwiLCExLCExLHtpbnN0YW5jZTpvfSl9d2luZG93LmRpc3BhdGNoRXZlbnQobil9LGY9ZnVuY3Rpb24odCxlKXtyZXR1cm4gZT90LnJlcGxhY2UoL1xcLihqcGU/Z3xwbmcpL2dpLFwiLndlYnBcIik6dH0sXz1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93LHY9XyYmIShcIm9uc2Nyb2xsXCJpbiB3aW5kb3cpfHwvKGdsZXxpbmd8cm8pYm90fGNyYXdsfHNwaWRlci9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksZz1fJiZcIkludGVyc2VjdGlvbk9ic2VydmVyXCJpbiB3aW5kb3csaD1fJiZcImNsYXNzTGlzdFwiaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIiksYj1fJiZmdW5jdGlvbigpe3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7cmV0dXJuISghdC5nZXRDb250ZXh0fHwhdC5nZXRDb250ZXh0KFwiMmRcIikpJiYwPT09dC50b0RhdGFVUkwoXCJpbWFnZS93ZWJwXCIpLmluZGV4T2YoXCJkYXRhOmltYWdlL3dlYnBcIil9KCksbT1mdW5jdGlvbih0LGUsbixyKXtmb3IodmFyIGEsaT0wO2E9dC5jaGlsZHJlbltpXTtpKz0xKWlmKFwiU09VUkNFXCI9PT1hLnRhZ05hbWUpe3ZhciBzPW8oYSxuKTtwKGEsZSxzLHIpfX0scD1mdW5jdGlvbih0LGUsbixvKXtuJiZ0LnNldEF0dHJpYnV0ZShlLGYobixvKSl9LHk9ZnVuY3Rpb24odCxlKXt2YXIgbj1iJiZlLnRvX3dlYnAscj1vKHQsZS5kYXRhX3NyYyksYT1vKHQsZS5kYXRhX2JnKTtpZihyKXt2YXIgaT1mKHIsbik7dC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9J3VybChcIicraSsnXCIpJ31pZihhKXt2YXIgcz1mKGEsbik7dC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2U9c319LHc9e0lNRzpmdW5jdGlvbih0LGUpe3ZhciBuPWImJmUudG9fd2VicCxyPWUuZGF0YV9zcmNzZXQsYT10LnBhcmVudE5vZGU7YSYmXCJQSUNUVVJFXCI9PT1hLnRhZ05hbWUmJm0oYSxcInNyY3NldFwiLHIsbik7dmFyIGk9byh0LGUuZGF0YV9zaXplcyk7cCh0LFwic2l6ZXNcIixpKTt2YXIgcz1vKHQscik7cCh0LFwic3Jjc2V0XCIscyxuKTt2YXIgYz1vKHQsZS5kYXRhX3NyYyk7cCh0LFwic3JjXCIsYyxuKX0sSUZSQU1FOmZ1bmN0aW9uKHQsZSl7dmFyIG49byh0LGUuZGF0YV9zcmMpO3AodCxcInNyY1wiLG4pfSxWSURFTzpmdW5jdGlvbih0LGUpe3ZhciBuPWUuZGF0YV9zcmMscj1vKHQsbik7bSh0LFwic3JjXCIsbikscCh0LFwic3JjXCIsciksdC5sb2FkKCl9fSxFPWZ1bmN0aW9uKHQsZSl7dmFyIG49ZS5fc2V0dGluZ3Msbz10LnRhZ05hbWUscj13W29dO2lmKHIpcmV0dXJuIHIodCxuKSxlLl91cGRhdGVMb2FkaW5nQ291bnQoMSksdm9pZChlLl9lbGVtZW50cz11KGUuX2VsZW1lbnRzLHQpKTt5KHQsbil9LEk9ZnVuY3Rpb24odCxlKXtoP3QuY2xhc3NMaXN0LmFkZChlKTp0LmNsYXNzTmFtZSs9KHQuY2xhc3NOYW1lP1wiIFwiOlwiXCIpK2V9LEw9ZnVuY3Rpb24odCxlKXtoP3QuY2xhc3NMaXN0LnJlbW92ZShlKTp0LmNsYXNzTmFtZT10LmNsYXNzTmFtZS5yZXBsYWNlKG5ldyBSZWdFeHAoXCIoXnxcXFxccyspXCIrZStcIihcXFxccyt8JClcIiksXCIgXCIpLnJlcGxhY2UoL15cXHMrLyxcIlwiKS5yZXBsYWNlKC9cXHMrJC8sXCJcIil9LEM9ZnVuY3Rpb24odCxlKXt0JiZ0KGUpfSxPPWZ1bmN0aW9uKHQsZSxuKXt0LmFkZEV2ZW50TGlzdGVuZXIoZSxuKX0saz1mdW5jdGlvbih0LGUsbil7dC5yZW1vdmVFdmVudExpc3RlbmVyKGUsbil9LHg9ZnVuY3Rpb24odCxlLG4pe08odCxcImxvYWRcIixlKSxPKHQsXCJsb2FkZWRkYXRhXCIsZSksTyh0LFwiZXJyb3JcIixuKX0sQT1mdW5jdGlvbih0LGUsbil7ayh0LFwibG9hZFwiLGUpLGsodCxcImxvYWRlZGRhdGFcIixlKSxrKHQsXCJlcnJvclwiLG4pfSx6PWZ1bmN0aW9uKHQsZSxuKXt2YXIgbz1uLl9zZXR0aW5ncyxyPWU/by5jbGFzc19sb2FkZWQ6by5jbGFzc19lcnJvcixhPWU/by5jYWxsYmFja19sb2FkOm8uY2FsbGJhY2tfZXJyb3IsaT10LnRhcmdldDtMKGksby5jbGFzc19sb2FkaW5nKSxJKGksciksQyhhLGkpLG4uX3VwZGF0ZUxvYWRpbmdDb3VudCgtMSl9LE49ZnVuY3Rpb24odCxlKXt2YXIgbj1mdW5jdGlvbiBuKHIpe3oociwhMCxlKSxBKHQsbixvKX0sbz1mdW5jdGlvbiBvKHIpe3oociwhMSxlKSxBKHQsbixvKX07eCh0LG4sbyl9LFI9W1wiSU1HXCIsXCJJRlJBTUVcIixcIlZJREVPXCJdLFM9ZnVuY3Rpb24oZSxuLG8pe3QoZSxvKSxuLnVub2JzZXJ2ZShlKX0sTT1mdW5jdGlvbih0KXt2YXIgZT1jKHQpO2UmJihjbGVhclRpbWVvdXQoZSkscyh0LG51bGwpKX0saj1mdW5jdGlvbih0LGUsbil7dmFyIG89bi5fc2V0dGluZ3MubG9hZF9kZWxheSxyPWModCk7cnx8KHI9c2V0VGltZW91dChmdW5jdGlvbigpe1ModCxlLG4pLE0odCl9LG8pLHModCxyKSl9LEQ9ZnVuY3Rpb24odCl7cmV0dXJuIHQuaXNJbnRlcnNlY3Rpbmd8fHQuaW50ZXJzZWN0aW9uUmF0aW8+MH0sVD1mdW5jdGlvbih0KXtyZXR1cm57cm9vdDp0LmNvbnRhaW5lcj09PWRvY3VtZW50P251bGw6dC5jb250YWluZXIscm9vdE1hcmdpbjp0LnRocmVzaG9sZHN8fHQudGhyZXNob2xkK1wicHhcIn19LFU9ZnVuY3Rpb24odCxlKXt0aGlzLl9zZXR0aW5ncz1uKHQpLHRoaXMuX3NldE9ic2VydmVyKCksdGhpcy5fbG9hZGluZ0NvdW50PTAsdGhpcy51cGRhdGUoZSl9O3JldHVybiBVLnByb3RvdHlwZT17X21hbmFnZUludGVyc2VjdGlvbjpmdW5jdGlvbih0KXt2YXIgZT10aGlzLl9vYnNlcnZlcixuPXRoaXMuX3NldHRpbmdzLmxvYWRfZGVsYXksbz10LnRhcmdldDtuP0QodCk/aihvLGUsdGhpcyk6TShvKTpEKHQpJiZTKG8sZSx0aGlzKX0sX29uSW50ZXJzZWN0aW9uOmZ1bmN0aW9uKHQpe3QuZm9yRWFjaCh0aGlzLl9tYW5hZ2VJbnRlcnNlY3Rpb24uYmluZCh0aGlzKSl9LF9zZXRPYnNlcnZlcjpmdW5jdGlvbigpe2cmJih0aGlzLl9vYnNlcnZlcj1uZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIodGhpcy5fb25JbnRlcnNlY3Rpb24uYmluZCh0aGlzKSxUKHRoaXMuX3NldHRpbmdzKSkpfSxfdXBkYXRlTG9hZGluZ0NvdW50OmZ1bmN0aW9uKHQpe3RoaXMuX2xvYWRpbmdDb3VudCs9dCwwPT09dGhpcy5fZWxlbWVudHMubGVuZ3RoJiYwPT09dGhpcy5fbG9hZGluZ0NvdW50JiZDKHRoaXMuX3NldHRpbmdzLmNhbGxiYWNrX2ZpbmlzaCl9LHVwZGF0ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzLG49dGhpcy5fc2V0dGluZ3Msbz10fHxuLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKG4uZWxlbWVudHNfc2VsZWN0b3IpO3RoaXMuX2VsZW1lbnRzPWwoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwobykpLCF2JiZ0aGlzLl9vYnNlcnZlcj90aGlzLl9lbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuX29ic2VydmVyLm9ic2VydmUodCl9KTp0aGlzLmxvYWRBbGwoKX0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciB0PXRoaXM7dGhpcy5fb2JzZXJ2ZXImJih0aGlzLl9lbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QuX29ic2VydmVyLnVub2JzZXJ2ZShlKX0pLHRoaXMuX29ic2VydmVyPW51bGwpLHRoaXMuX2VsZW1lbnRzPW51bGwsdGhpcy5fc2V0dGluZ3M9bnVsbH0sbG9hZDpmdW5jdGlvbihlLG4pe3QoZSx0aGlzLG4pfSxsb2FkQWxsOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpczt0aGlzLl9lbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uKGUpe3QubG9hZChlKX0pfX0sXyYmZnVuY3Rpb24odCxlKXtpZihlKWlmKGUubGVuZ3RoKWZvcih2YXIgbixvPTA7bj1lW29dO28rPTEpZCh0LG4pO2Vsc2UgZCh0LGUpfShVLHdpbmRvdy5sYXp5TG9hZE9wdGlvbnMpLFV9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxhenlsb2FkLm1pbi5qcy5tYXBcblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTGF6eSBMb2FkXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vKiEgalF1ZXJ5ICYgWmVwdG8gTGF6eSB2MS43LjEwIC0gaHR0cDovL2pxdWVyeS5laXNiZWhyLmRlL2xhenkgLSBNSVQmR1BMLTIuMCBsaWNlbnNlIC0gQ29weXJpZ2h0IDIwMTItMjAxOCBEYW5pZWwgJ0Vpc2JlaHInIEtlcm4gKi9cbiFmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIHIocixhLGksdSxsKXtmdW5jdGlvbiBmKCl7TD10LmRldmljZVBpeGVsUmF0aW8+MSxpPWMoaSksYS5kZWxheT49MCYmc2V0VGltZW91dChmdW5jdGlvbigpe3MoITApfSxhLmRlbGF5KSwoYS5kZWxheTwwfHxhLmNvbWJpbmVkKSYmKHUuZT12KGEudGhyb3R0bGUsZnVuY3Rpb24odCl7XCJyZXNpemVcIj09PXQudHlwZSYmKHc9Qj0tMSkscyh0LmFsbCl9KSx1LmE9ZnVuY3Rpb24odCl7dD1jKHQpLGkucHVzaC5hcHBseShpLHQpfSx1Lmc9ZnVuY3Rpb24oKXtyZXR1cm4gaT1uKGkpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiFuKHRoaXMpLmRhdGEoYS5sb2FkZWROYW1lKX0pfSx1LmY9ZnVuY3Rpb24odCl7Zm9yKHZhciBlPTA7ZTx0Lmxlbmd0aDtlKyspe3ZhciByPWkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXM9PT10W2VdfSk7ci5sZW5ndGgmJnMoITEscil9fSxzKCksbihhLmFwcGVuZFNjcm9sbCkub24oXCJzY3JvbGwuXCIrbCtcIiByZXNpemUuXCIrbCx1LmUpKX1mdW5jdGlvbiBjKHQpe3ZhciBpPWEuZGVmYXVsdEltYWdlLG89YS5wbGFjZWhvbGRlcix1PWEuaW1hZ2VCYXNlLGw9YS5zcmNzZXRBdHRyaWJ1dGUsZj1hLmxvYWRlckF0dHJpYnV0ZSxjPWEuX2Z8fHt9O3Q9bih0KS5maWx0ZXIoZnVuY3Rpb24oKXt2YXIgdD1uKHRoaXMpLHI9bSh0aGlzKTtyZXR1cm4hdC5kYXRhKGEuaGFuZGxlZE5hbWUpJiYodC5hdHRyKGEuYXR0cmlidXRlKXx8dC5hdHRyKGwpfHx0LmF0dHIoZil8fGNbcl0hPT1lKX0pLmRhdGEoXCJwbHVnaW5fXCIrYS5uYW1lLHIpO2Zvcih2YXIgcz0wLGQ9dC5sZW5ndGg7czxkO3MrKyl7dmFyIEE9bih0W3NdKSxnPW0odFtzXSksaD1BLmF0dHIoYS5pbWFnZUJhc2VBdHRyaWJ1dGUpfHx1O2c9PT1OJiZoJiZBLmF0dHIobCkmJkEuYXR0cihsLGIoQS5hdHRyKGwpLGgpKSxjW2ddPT09ZXx8QS5hdHRyKGYpfHxBLmF0dHIoZixjW2ddKSxnPT09TiYmaSYmIUEuYXR0cihFKT9BLmF0dHIoRSxpKTpnPT09Tnx8IW98fEEuY3NzKE8pJiZcIm5vbmVcIiE9PUEuY3NzKE8pfHxBLmNzcyhPLFwidXJsKCdcIitvK1wiJylcIil9cmV0dXJuIHR9ZnVuY3Rpb24gcyh0LGUpe2lmKCFpLmxlbmd0aClyZXR1cm4gdm9pZChhLmF1dG9EZXN0cm95JiZyLmRlc3Ryb3koKSk7Zm9yKHZhciBvPWV8fGksdT0hMSxsPWEuaW1hZ2VCYXNlfHxcIlwiLGY9YS5zcmNzZXRBdHRyaWJ1dGUsYz1hLmhhbmRsZWROYW1lLHM9MDtzPG8ubGVuZ3RoO3MrKylpZih0fHxlfHxBKG9bc10pKXt2YXIgZz1uKG9bc10pLGg9bShvW3NdKSxiPWcuYXR0cihhLmF0dHJpYnV0ZSksdj1nLmF0dHIoYS5pbWFnZUJhc2VBdHRyaWJ1dGUpfHxsLHA9Zy5hdHRyKGEubG9hZGVyQXR0cmlidXRlKTtnLmRhdGEoYyl8fGEudmlzaWJsZU9ubHkmJiFnLmlzKFwiOnZpc2libGVcIil8fCEoKGJ8fGcuYXR0cihmKSkmJihoPT09TiYmKHYrYiE9PWcuYXR0cihFKXx8Zy5hdHRyKGYpIT09Zy5hdHRyKEYpKXx8aCE9PU4mJnYrYiE9PWcuY3NzKE8pKXx8cCl8fCh1PSEwLGcuZGF0YShjLCEwKSxkKGcsaCx2LHApKX11JiYoaT1uKGkpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiFuKHRoaXMpLmRhdGEoYyl9KSl9ZnVuY3Rpb24gZCh0LGUscixpKXsrK3o7dmFyIG89ZnVuY3Rpb24oKXt5KFwib25FcnJvclwiLHQpLHAoKSxvPW4ubm9vcH07eShcImJlZm9yZUxvYWRcIix0KTt2YXIgdT1hLmF0dHJpYnV0ZSxsPWEuc3Jjc2V0QXR0cmlidXRlLGY9YS5zaXplc0F0dHJpYnV0ZSxjPWEucmV0aW5hQXR0cmlidXRlLHM9YS5yZW1vdmVBdHRyaWJ1dGUsZD1hLmxvYWRlZE5hbWUsQT10LmF0dHIoYyk7aWYoaSl7dmFyIGc9ZnVuY3Rpb24oKXtzJiZ0LnJlbW92ZUF0dHIoYS5sb2FkZXJBdHRyaWJ1dGUpLHQuZGF0YShkLCEwKSx5KFQsdCksc2V0VGltZW91dChwLDEpLGc9bi5ub29wfTt0Lm9mZihJKS5vbmUoSSxvKS5vbmUoRCxnKSx5KGksdCxmdW5jdGlvbihlKXtlPyh0Lm9mZihEKSxnKCkpOih0Lm9mZihJKSxvKCkpfSl8fHQudHJpZ2dlcihJKX1lbHNle3ZhciBoPW4obmV3IEltYWdlKTtoLm9uZShJLG8pLm9uZShELGZ1bmN0aW9uKCl7dC5oaWRlKCksZT09PU4/dC5hdHRyKEMsaC5hdHRyKEMpKS5hdHRyKEYsaC5hdHRyKEYpKS5hdHRyKEUsaC5hdHRyKEUpKTp0LmNzcyhPLFwidXJsKCdcIitoLmF0dHIoRSkrXCInKVwiKSx0W2EuZWZmZWN0XShhLmVmZmVjdFRpbWUpLHMmJih0LnJlbW92ZUF0dHIodStcIiBcIitsK1wiIFwiK2MrXCIgXCIrYS5pbWFnZUJhc2VBdHRyaWJ1dGUpLGYhPT1DJiZ0LnJlbW92ZUF0dHIoZikpLHQuZGF0YShkLCEwKSx5KFQsdCksaC5yZW1vdmUoKSxwKCl9KTt2YXIgbT0oTCYmQT9BOnQuYXR0cih1KSl8fFwiXCI7aC5hdHRyKEMsdC5hdHRyKGYpKS5hdHRyKEYsdC5hdHRyKGwpKS5hdHRyKEUsbT9yK206bnVsbCksaC5jb21wbGV0ZSYmaC50cmlnZ2VyKEQpfX1mdW5jdGlvbiBBKHQpe3ZhciBlPXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkscj1hLnNjcm9sbERpcmVjdGlvbixuPWEudGhyZXNob2xkLGk9aCgpK24+ZS50b3AmJi1uPGUuYm90dG9tLG89ZygpK24+ZS5sZWZ0JiYtbjxlLnJpZ2h0O3JldHVyblwidmVydGljYWxcIj09PXI/aTpcImhvcml6b250YWxcIj09PXI/bzppJiZvfWZ1bmN0aW9uIGcoKXtyZXR1cm4gdz49MD93Onc9bih0KS53aWR0aCgpfWZ1bmN0aW9uIGgoKXtyZXR1cm4gQj49MD9COkI9bih0KS5oZWlnaHQoKX1mdW5jdGlvbiBtKHQpe3JldHVybiB0LnRhZ05hbWUudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiBiKHQsZSl7aWYoZSl7dmFyIHI9dC5zcGxpdChcIixcIik7dD1cIlwiO2Zvcih2YXIgYT0wLG49ci5sZW5ndGg7YTxuO2ErKyl0Kz1lK3JbYV0udHJpbSgpKyhhIT09bi0xP1wiLFwiOlwiXCIpfXJldHVybiB0fWZ1bmN0aW9uIHYodCxlKXt2YXIgbixpPTA7cmV0dXJuIGZ1bmN0aW9uKG8sdSl7ZnVuY3Rpb24gbCgpe2k9K25ldyBEYXRlLGUuY2FsbChyLG8pfXZhciBmPStuZXcgRGF0ZS1pO24mJmNsZWFyVGltZW91dChuKSxmPnR8fCFhLmVuYWJsZVRocm90dGxlfHx1P2woKTpuPXNldFRpbWVvdXQobCx0LWYpfX1mdW5jdGlvbiBwKCl7LS16LGkubGVuZ3RofHx6fHx5KFwib25GaW5pc2hlZEFsbFwiKX1mdW5jdGlvbiB5KHQsZSxuKXtyZXR1cm4hISh0PWFbdF0pJiYodC5hcHBseShyLFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpKSwhMCl9dmFyIHo9MCx3PS0xLEI9LTEsTD0hMSxUPVwiYWZ0ZXJMb2FkXCIsRD1cImxvYWRcIixJPVwiZXJyb3JcIixOPVwiaW1nXCIsRT1cInNyY1wiLEY9XCJzcmNzZXRcIixDPVwic2l6ZXNcIixPPVwiYmFja2dyb3VuZC1pbWFnZVwiO1wiZXZlbnRcIj09PWEuYmluZHx8bz9mKCk6bih0KS5vbihEK1wiLlwiK2wsZil9ZnVuY3Rpb24gYShhLG8pe3ZhciB1PXRoaXMsbD1uLmV4dGVuZCh7fSx1LmNvbmZpZyxvKSxmPXt9LGM9bC5uYW1lK1wiLVwiKyArK2k7cmV0dXJuIHUuY29uZmlnPWZ1bmN0aW9uKHQscil7cmV0dXJuIHI9PT1lP2xbdF06KGxbdF09cix1KX0sdS5hZGRJdGVtcz1mdW5jdGlvbih0KXtyZXR1cm4gZi5hJiZmLmEoXCJzdHJpbmdcIj09PW4udHlwZSh0KT9uKHQpOnQpLHV9LHUuZ2V0SXRlbXM9ZnVuY3Rpb24oKXtyZXR1cm4gZi5nP2YuZygpOnt9fSx1LnVwZGF0ZT1mdW5jdGlvbih0KXtyZXR1cm4gZi5lJiZmLmUoe30sIXQpLHV9LHUuZm9yY2U9ZnVuY3Rpb24odCl7cmV0dXJuIGYuZiYmZi5mKFwic3RyaW5nXCI9PT1uLnR5cGUodCk/bih0KTp0KSx1fSx1LmxvYWRBbGw9ZnVuY3Rpb24oKXtyZXR1cm4gZi5lJiZmLmUoe2FsbDohMH0sITApLHV9LHUuZGVzdHJveT1mdW5jdGlvbigpe3JldHVybiBuKGwuYXBwZW5kU2Nyb2xsKS5vZmYoXCIuXCIrYyxmLmUpLG4odCkub2ZmKFwiLlwiK2MpLGY9e30sZX0scih1LGwsYSxmLGMpLGwuY2hhaW5hYmxlP2E6dX12YXIgbj10LmpRdWVyeXx8dC5aZXB0byxpPTAsbz0hMTtuLmZuLkxhenk9bi5mbi5sYXp5PWZ1bmN0aW9uKHQpe3JldHVybiBuZXcgYSh0aGlzLHQpfSxuLkxhenk9bi5sYXp5PWZ1bmN0aW9uKHQscixpKXtpZihuLmlzRnVuY3Rpb24ocikmJihpPXIscj1bXSksbi5pc0Z1bmN0aW9uKGkpKXt0PW4uaXNBcnJheSh0KT90Olt0XSxyPW4uaXNBcnJheShyKT9yOltyXTtmb3IodmFyIG89YS5wcm90b3R5cGUuY29uZmlnLHU9by5fZnx8KG8uX2Y9e30pLGw9MCxmPXQubGVuZ3RoO2w8ZjtsKyspKG9bdFtsXV09PT1lfHxuLmlzRnVuY3Rpb24ob1t0W2xdXSkpJiYob1t0W2xdXT1pKTtmb3IodmFyIGM9MCxzPXIubGVuZ3RoO2M8cztjKyspdVtyW2NdXT10WzBdfX0sYS5wcm90b3R5cGUuY29uZmlnPXtuYW1lOlwibGF6eVwiLGNoYWluYWJsZTohMCxhdXRvRGVzdHJveTohMCxiaW5kOlwibG9hZFwiLHRocmVzaG9sZDo1MDAsdmlzaWJsZU9ubHk6ITEsYXBwZW5kU2Nyb2xsOnQsc2Nyb2xsRGlyZWN0aW9uOlwiYm90aFwiLGltYWdlQmFzZTpudWxsLGRlZmF1bHRJbWFnZTpcImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQVAvLy93QUFBQ0g1QkFFQUFBQUFMQUFBQUFBQkFBRUFBQUlDUkFFQU93PT1cIixwbGFjZWhvbGRlcjpudWxsLGRlbGF5Oi0xLGNvbWJpbmVkOiExLGF0dHJpYnV0ZTpcImRhdGEtc3JjXCIsc3Jjc2V0QXR0cmlidXRlOlwiZGF0YS1zcmNzZXRcIixzaXplc0F0dHJpYnV0ZTpcImRhdGEtc2l6ZXNcIixyZXRpbmFBdHRyaWJ1dGU6XCJkYXRhLXJldGluYVwiLGxvYWRlckF0dHJpYnV0ZTpcImRhdGEtbG9hZGVyXCIsaW1hZ2VCYXNlQXR0cmlidXRlOlwiZGF0YS1pbWFnZWJhc2VcIixyZW1vdmVBdHRyaWJ1dGU6ITAsaGFuZGxlZE5hbWU6XCJoYW5kbGVkXCIsbG9hZGVkTmFtZTpcImxvYWRlZFwiLGVmZmVjdDpcInNob3dcIixlZmZlY3RUaW1lOjAsZW5hYmxlVGhyb3R0bGU6ITAsdGhyb3R0bGU6MjUwLGJlZm9yZUxvYWQ6ZSxhZnRlckxvYWQ6ZSxvbkVycm9yOmUsb25GaW5pc2hlZEFsbDplfSxuKHQpLm9uKFwibG9hZFwiLGZ1bmN0aW9uKCl7bz0hMH0pfSh3aW5kb3cpO1xuXG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICAgIFZJTUVPIExhenkgTG9hZCAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vKiEgalF1ZXJ5ICYgWmVwdG8gTGF6eSAtIGlGcmFtZSBQbHVnaW4gdjEuNSAtIGh0dHA6Ly9qcXVlcnkuZWlzYmVoci5kZS9sYXp5IC0gTUlUJkdQTC0yLjAgbGljZW5zZSAtIENvcHlyaWdodCAyMDEyLTIwMTggRGFuaWVsICdFaXNiZWhyJyBLZXJuICovXG4hZnVuY3Rpb24odCl7dC5sYXp5KFtcImZyYW1lXCIsXCJpZnJhbWVcIl0sXCJpZnJhbWVcIixmdW5jdGlvbihyLGEpe3ZhciBlPXRoaXM7aWYoXCJpZnJhbWVcIj09PXJbMF0udGFnTmFtZS50b0xvd2VyQ2FzZSgpKXt2YXIgbz1yLmF0dHIoXCJkYXRhLWVycm9yLWRldGVjdFwiKTtcInRydWVcIiE9PW8mJlwiMVwiIT09bz8oci5hdHRyKFwic3JjXCIsci5hdHRyKFwiZGF0YS1zcmNcIikpLGUuY29uZmlnKFwicmVtb3ZlQXR0cmlidXRlXCIpJiZyLnJlbW92ZUF0dHIoXCJkYXRhLXNyYyBkYXRhLWVycm9yLWRldGVjdFwiKSk6dC5hamF4KHt1cmw6ci5hdHRyKFwiZGF0YS1zcmNcIiksZGF0YVR5cGU6XCJodG1sXCIsY3Jvc3NEb21haW46ITAseGhyRmllbGRzOnt3aXRoQ3JlZGVudGlhbHM6ITB9LHN1Y2Nlc3M6ZnVuY3Rpb24odCl7ci5odG1sKHQpLmF0dHIoXCJzcmNcIixyLmF0dHIoXCJkYXRhLXNyY1wiKSksZS5jb25maWcoXCJyZW1vdmVBdHRyaWJ1dGVcIikmJnIucmVtb3ZlQXR0cihcImRhdGEtc3JjIGRhdGEtZXJyb3ItZGV0ZWN0XCIpfSxlcnJvcjpmdW5jdGlvbigpe2EoITEpfX0pfWVsc2UgYSghMSl9KX0od2luZG93LmpRdWVyeXx8d2luZG93LlplcHRvKTtcblxuLyoqXG4gKiBGaXggQ2FsbGJhY2sgU2NyaXB0XG4gKi9cbiBmdW5jdGlvbiBpbml0TWFwKCkge1xuICAgIHJldHVybiB0cnVlO1xufSIsInZhciBzbGljZT1bXS5zbGljZTshZnVuY3Rpb24odCxuKXt2YXIgcjtuLlN0YXJycj1yPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuLHIpe3ZhciBzOyh0aGlzLm9wdGlvbnM9dC5leHRlbmQoe30sdGhpcy5kZWZhdWx0cyxyKSx0aGlzLiRlbD1uLHRoaXMuY3JlYXRlU3RhcnMoKSx0aGlzLnN5bmNSYXRpbmcoKSx0aGlzLm9wdGlvbnMucmVhZE9ubHkpfHwodGhpcy4kZWwub24oXCJtb3VzZW92ZXIuc3RhcnJyXCIsXCJhXCIsKHM9dGhpcyxmdW5jdGlvbih0KXtyZXR1cm4gcy5zeW5jUmF0aW5nKHMuZ2V0U3RhcnMoKS5pbmRleCh0LmN1cnJlbnRUYXJnZXQpKzEpfSkpLHRoaXMuJGVsLm9uKFwibW91c2VvdXQuc3RhcnJyXCIsZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHQuc3luY1JhdGluZygpfX0odGhpcykpLHRoaXMuJGVsLm9uKFwiY2xpY2suc3RhcnJyXCIsXCJhXCIsZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBuLnByZXZlbnREZWZhdWx0KCksdC5zZXRSYXRpbmcodC5nZXRTdGFycygpLmluZGV4KG4uY3VycmVudFRhcmdldCkrMSl9fSh0aGlzKSksdGhpcy4kZWwub24oXCJzdGFycnI6Y2hhbmdlXCIsdGhpcy5vcHRpb25zLmNoYW5nZSkpfXJldHVybiBuLnByb3RvdHlwZS5kZWZhdWx0cz17cmF0aW5nOnZvaWQgMCxtYXg6NSxyZWFkT25seTohMSxlbXB0eUNsYXNzOlwiZmEgZmEtc3Rhci1vXCIsZnVsbENsYXNzOlwiZmEgZmEtc3RhclwiLGNoYW5nZTpmdW5jdGlvbih0LG4pe319LG4ucHJvdG90eXBlLmdldFN0YXJzPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGVsLmZpbmQoXCJhXCIpfSxuLnByb3RvdHlwZS5jcmVhdGVTdGFycz1mdW5jdGlvbigpe3ZhciB0LG4scjtmb3Iocj1bXSx0PTEsbj10aGlzLm9wdGlvbnMubWF4OzE8PW4/dDw9bjp0Pj1uOzE8PW4/dCsrOnQtLSlyLnB1c2godGhpcy4kZWwuYXBwZW5kKFwiPGEgaHJlZj0nIycgLz5cIikpO3JldHVybiByfSxuLnByb3RvdHlwZS5zZXRSYXRpbmc9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMub3B0aW9ucy5yYXRpbmc9PT10JiYodD12b2lkIDApLHRoaXMub3B0aW9ucy5yYXRpbmc9dCx0aGlzLnN5bmNSYXRpbmcoKSx0aGlzLiRlbC50cmlnZ2VyKFwic3RhcnJyOmNoYW5nZVwiLHQpfSxuLnByb3RvdHlwZS5nZXRSYXRpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vcHRpb25zLnJhdGluZ30sbi5wcm90b3R5cGUuc3luY1JhdGluZz1mdW5jdGlvbih0KXt2YXIgbixyLHMsaSxlO2Zvcih0fHwodD10aGlzLm9wdGlvbnMucmF0aW5nKSxuPXRoaXMuZ2V0U3RhcnMoKSxlPVtdLHI9cz0xLGk9dGhpcy5vcHRpb25zLm1heDsxPD1pP3M8PWk6cz49aTtyPTE8PWk/KytzOi0tcyllLnB1c2gobi5lcShyLTEpLnJlbW92ZUNsYXNzKHQ+PXI/dGhpcy5vcHRpb25zLmVtcHR5Q2xhc3M6dGhpcy5vcHRpb25zLmZ1bGxDbGFzcykuYWRkQ2xhc3ModD49cj90aGlzLm9wdGlvbnMuZnVsbENsYXNzOnRoaXMub3B0aW9ucy5lbXB0eUNsYXNzKSk7cmV0dXJuIGV9LG59KCksdC5mbi5leHRlbmQoe3N0YXJycjpmdW5jdGlvbigpe3ZhciBuLHM7cmV0dXJuIHM9YXJndW1lbnRzWzBdLG49Mjw9YXJndW1lbnRzLmxlbmd0aD9zbGljZS5jYWxsKGFyZ3VtZW50cywxKTpbXSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgaTtpZigoaT10KHRoaXMpLmRhdGEoXCJzdGFycnJcIikpfHx0KHRoaXMpLmRhdGEoXCJzdGFycnJcIixpPW5ldyByKHQodGhpcykscykpLFwic3RyaW5nXCI9PXR5cGVvZiBzKXJldHVybiBpW3NdLmFwcGx5KGksbil9KX19KX0od2luZG93LmpRdWVyeSx3aW5kb3cpOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
